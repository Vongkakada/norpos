{"ast":null,"code":"var _jsxFileName = \"D:\\\\CUS\\\\POS Nor Coffee\\\\pos\\\\src\\\\components\\\\Reports\\\\DailySalesReport.js\",\n  _s = $RefreshSig$();\n// src/components/Reports/DailySalesReport.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { getDailySalesReport } from '../../services/api';\nimport { OrderContext } from '../../contexts/OrderContext'; // For formatters if needed\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DailySalesReport = ({\n  date\n}) => {\n  _s();\n  // date in 'YYYY-MM-DD'\n  const [reportData, setReportData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    formatUSD,\n    formatKHR,\n    USD_SYMBOL,\n    KHR_SYMBOL\n  } = React.useContext(OrderContext);\n  const fetchReport = useCallback(async () => {\n    if (!date) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await getDailySalesReport(date);\n      setReportData(data);\n    } catch (err) {\n      setError(err.message || \"មិនអាចទាញយករបាយការណ៍បានទេ។\");\n    } finally {\n      setLoading(false);\n    }\n  }, [date]);\n  useEffect(() => {\n    fetchReport();\n  }, [fetchReport]);\n  if (!date) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u179F\\u17BC\\u1798\\u1787\\u17D2\\u179A\\u17BE\\u179F\\u179A\\u17BE\\u179F\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791\\u179F\\u1798\\u17D2\\u179A\\u17B6\\u1794\\u17CB\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u17D4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 23\n  }, this);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"\\u1780\\u17C6\\u1796\\u17BB\\u1784\\u1791\\u17B6\\u1789\\u1799\\u1780\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u179F\\u1798\\u17D2\\u179A\\u17B6\\u1794\\u17CB \", date, \"...\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: 'red'\n    },\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 23\n  }, this);\n  if (!reportData) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"\\u1798\\u17B7\\u1793\\u1798\\u17B6\\u1793\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u179F\\u1798\\u17D2\\u179A\\u17B6\\u1794\\u17CB \", date, \"\\u17D4\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 29\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"daily-sales-report\",\n    style: {\n      padding: '20px',\n      border: '1px solid #ccc',\n      borderRadius: '8px',\n      margin: '20px 0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u179B\\u1780\\u17CB\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1790\\u17D2\\u1784\\u17C3: \", reportData.date]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u1780\\u17B6\\u179A\\u179B\\u1780\\u17CB\\u179F\\u179A\\u17BB\\u1794 (USD):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 16\n      }, this), \" \", USD_SYMBOL, formatUSD(reportData.totalSalesUSD || 0)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u1780\\u17B6\\u179A\\u179B\\u1780\\u17CB\\u179F\\u179A\\u17BB\\u1794 (KHR):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 16\n      }, this), \" \", KHR_SYMBOL, formatKHR(reportData.totalSalesKHR || 0)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u1780\\u17B6\\u179A\\u1794\\u1789\\u17D2\\u1787\\u17B6\\u1791\\u17B7\\u1789:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 16\n      }, this), \" \", reportData.numberOfOrders || 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), reportData.topSellingItems && reportData.topSellingItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\u1798\\u17BB\\u1781\\u1791\\u17C6\\u1793\\u17B7\\u1789\\u179B\\u1780\\u17CB\\u178A\\u17B6\\u1785\\u17CB\\u1787\\u17B6\\u1784\\u1782\\u17C1:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: 'none',\n          paddingLeft: 0\n        },\n        children: reportData.topSellingItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            borderBottom: '1px dotted #eee',\n            padding: '5px 0'\n          },\n          children: [item.khmerName || item.name, \" - \\u1785\\u17C6\\u1793\\u17BD\\u1793: \", item.quantitySold, \", \\u178F\\u1798\\u17D2\\u179B\\u17C3\\u179F\\u179A\\u17BB\\u1794: \", USD_SYMBOL, formatUSD(item.totalValueUSD || 0)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n_s(DailySalesReport, \"+sqPBhSM9NwrLuDemPJqj3Fd7Kc=\");\n_c = DailySalesReport;\nexport default DailySalesReport;\nvar _c;\n$RefreshReg$(_c, \"DailySalesReport\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","getDailySalesReport","OrderContext","jsxDEV","_jsxDEV","DailySalesReport","date","_s","reportData","setReportData","loading","setLoading","error","setError","formatUSD","formatKHR","USD_SYMBOL","KHR_SYMBOL","useContext","fetchReport","data","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","className","padding","border","borderRadius","margin","totalSalesUSD","totalSalesKHR","numberOfOrders","topSellingItems","length","listStyle","paddingLeft","map","item","index","borderBottom","khmerName","name","quantitySold","totalValueUSD","_c","$RefreshReg$"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/Reports/DailySalesReport.js"],"sourcesContent":["// src/components/Reports/DailySalesReport.js\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { getDailySalesReport } from '../../services/api';\r\nimport { OrderContext } from '../../contexts/OrderContext'; // For formatters if needed\r\n\r\nconst DailySalesReport = ({ date }) => { // date in 'YYYY-MM-DD'\r\n    const [reportData, setReportData] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const { formatUSD, formatKHR, USD_SYMBOL, KHR_SYMBOL } = React.useContext(OrderContext);\r\n\r\n\r\n    const fetchReport = useCallback(async () => {\r\n        if (!date) return;\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const data = await getDailySalesReport(date);\r\n            setReportData(data);\r\n        } catch (err) {\r\n            setError(err.message || \"មិនអាចទាញយករបាយការណ៍បានទេ។\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [date]);\r\n\r\n    useEffect(() => {\r\n        fetchReport();\r\n    }, [fetchReport]);\r\n\r\n    if (!date) return <p>សូមជ្រើសរើសកាលបរិច្ឆេទសម្រាប់របាយការណ៍។</p>;\r\n    if (loading) return <p>កំពុងទាញយករបាយការណ៍សម្រាប់ {date}...</p>;\r\n    if (error) return <p style={{ color: 'red' }}>Error: {error}</p>;\r\n    if (!reportData) return <p>មិនមានទិន្នន័យរបាយការណ៍សម្រាប់ {date}។</p>;\r\n\r\n    return (\r\n        <div className=\"daily-sales-report\" style={{padding: '20px', border: '1px solid #ccc', borderRadius: '8px', margin: '20px 0'}}>\r\n            <h4>របាយការណ៍លក់ប្រចាំថ្ងៃ: {reportData.date}</h4>\r\n            <p><strong>ការលក់សរុប (USD):</strong> {USD_SYMBOL}{formatUSD(reportData.totalSalesUSD || 0)}</p>\r\n            <p><strong>ការលក់សរុប (KHR):</strong> {KHR_SYMBOL}{formatKHR(reportData.totalSalesKHR || 0)}</p>\r\n            <p><strong>ចំនួនការបញ្ជាទិញ:</strong> {reportData.numberOfOrders || 0}</p>\r\n            {reportData.topSellingItems && reportData.topSellingItems.length > 0 && (\r\n                <div>\r\n                    <h5>មុខទំនិញលក់ដាច់ជាងគេ:</h5>\r\n                    <ul style={{listStyle: 'none', paddingLeft: 0}}>\r\n                        {reportData.topSellingItems.map((item, index) => (\r\n                            <li key={index} style={{borderBottom: '1px dotted #eee', padding: '5px 0'}}>\r\n                                {item.khmerName || item.name} - ចំនួន: {item.quantitySold}, តម្លៃសរុប: {USD_SYMBOL}{formatUSD(item.totalValueUSD || 0)}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DailySalesReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}