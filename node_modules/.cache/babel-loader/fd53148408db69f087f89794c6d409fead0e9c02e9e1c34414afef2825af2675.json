{"ast":null,"code":"var _jsxFileName = \"D:\\\\CUS\\\\POS Nor Coffee\\\\pos\\\\src\\\\components\\\\SalesReport.jsx\",\n  _s = $RefreshSig$();\n// src/components/SalesReport.jsx\nimport React, { useState, useMemo } from 'react';\nimport { USD_SYMBOL, KHR_SYMBOL, formatUSD, formatKHR } from '../utils/formatters';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SalesReport({\n  allOrders,\n  exchangeRate\n}) {\n  _s();\n  const [reportType, setReportType] = useState('daily'); // 'daily', 'monthly'\n\n  const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n  const currentMonth = new Date().toISOString().slice(0, 7); // YYYY-MM\n\n  const dailySales = useMemo(() => {\n    if (!allOrders) return {\n      totalUSD: 0,\n      count: 0\n    };\n    const todayOrders = allOrders.filter(order => order.date.startsWith(today));\n    return {\n      totalUSD: todayOrders.reduce((sum, order) => sum + order.totalUSD, 0),\n      count: todayOrders.length\n    };\n  }, [allOrders, today]);\n  const monthlySales = useMemo(() => {\n    if (!allOrders) return {\n      totalUSD: 0,\n      count: 0\n    };\n    const currentMonthOrders = allOrders.filter(order => order.date.startsWith(currentMonth));\n    return {\n      totalUSD: currentMonthOrders.reduce((sum, order) => sum + order.totalUSD, 0),\n      count: currentMonthOrders.length\n    };\n  }, [allOrders, currentMonth]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sales-report-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u179B\\u1780\\u17CB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setReportType('daily'),\n        className: reportType === 'daily' ? 'active' : '',\n        children: \"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1790\\u17D2\\u1784\\u17C3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setReportType('monthly'),\n        className: reportType === 'monthly' ? 'active' : '',\n        children: \"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1781\\u17C2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), reportType === 'daily' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u1790\\u17D2\\u1784\\u17C3\\u1793\\u17C1\\u17C7 (\", new Date().toLocaleDateString('km-KH'), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u1794\\u1789\\u17D2\\u1787\\u17B6\\u1791\\u17B7\\u1789: \", dailySales.count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u179F\\u179A\\u17BB\\u1794 (USD): \", USD_SYMBOL, formatUSD(dailySales.totalUSD)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"khr-total\",\n        children: [\"\\u179F\\u179A\\u17BB\\u1794 (KHR): \", KHR_SYMBOL, formatKHR(dailySales.totalUSD * exchangeRate)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this), reportType === 'monthly' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u1781\\u17C2\\u1793\\u17C1\\u17C7 (\", new Date().toLocaleDateString('km-KH', {\n          month: 'long',\n          year: 'numeric'\n        }), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u1794\\u1789\\u17D2\\u1787\\u17B6\\u1791\\u17B7\\u1789: \", monthlySales.count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u179F\\u179A\\u17BB\\u1794 (USD): \", USD_SYMBOL, formatUSD(monthlySales.totalUSD)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"khr-total\",\n        children: [\"\\u179F\\u179A\\u17BB\\u1794 (KHR): \", KHR_SYMBOL, formatKHR(monthlySales.totalUSD * exchangeRate)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 18\n    }, this), allOrders.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u1798\\u17B7\\u1793\\u1791\\u17B6\\u1793\\u17CB\\u1798\\u17B6\\u1793\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u179B\\u1780\\u17CB\\u1793\\u17C5\\u17A1\\u17BE\\u1799\\u17D4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 41\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n_s(SalesReport, \"9owL7F4YGgdDtRtkwtiN7hUydWE=\");\n_c = SalesReport;\nexport default SalesReport;\nvar _c;\n$RefreshReg$(_c, \"SalesReport\");","map":{"version":3,"names":["React","useState","useMemo","USD_SYMBOL","KHR_SYMBOL","formatUSD","formatKHR","jsxDEV","_jsxDEV","SalesReport","allOrders","exchangeRate","_s","reportType","setReportType","today","Date","toISOString","split","currentMonth","slice","dailySales","totalUSD","count","todayOrders","filter","order","date","startsWith","reduce","sum","length","monthlySales","currentMonthOrders","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toLocaleDateString","month","year","_c","$RefreshReg$"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/SalesReport.jsx"],"sourcesContent":["// src/components/SalesReport.jsx\r\nimport React, { useState, useMemo } from 'react';\r\nimport { USD_SYMBOL, KHR_SYMBOL, formatUSD, formatKHR } from '../utils/formatters';\r\n\r\nfunction SalesReport({ allOrders, exchangeRate }) {\r\n    const [reportType, setReportType] = useState('daily'); // 'daily', 'monthly'\r\n\r\n    const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD\r\n    const currentMonth = new Date().toISOString().slice(0, 7); // YYYY-MM\r\n\r\n    const dailySales = useMemo(() => {\r\n        if (!allOrders) return { totalUSD: 0, count: 0 };\r\n        const todayOrders = allOrders.filter(order => order.date.startsWith(today));\r\n        return {\r\n            totalUSD: todayOrders.reduce((sum, order) => sum + order.totalUSD, 0),\r\n            count: todayOrders.length\r\n        };\r\n    }, [allOrders, today]);\r\n\r\n    const monthlySales = useMemo(() => {\r\n        if (!allOrders) return { totalUSD: 0, count: 0 };\r\n        const currentMonthOrders = allOrders.filter(order => order.date.startsWith(currentMonth));\r\n        return {\r\n            totalUSD: currentMonthOrders.reduce((sum, order) => sum + order.totalUSD, 0),\r\n            count: currentMonthOrders.length\r\n        };\r\n    }, [allOrders, currentMonth]);\r\n\r\n    return (\r\n        <div className=\"sales-report-panel\">\r\n            <h2>របាយការណ៍លក់</h2>\r\n            <div className=\"report-controls\">\r\n                <button \r\n                    onClick={() => setReportType('daily')}\r\n                    className={reportType === 'daily' ? 'active' : ''}\r\n                >\r\n                    ប្រចាំថ្ងៃ\r\n                </button>\r\n                <button \r\n                    onClick={() => setReportType('monthly')}\r\n                    className={reportType === 'monthly' ? 'active' : ''}\r\n                >\r\n                    ប្រចាំខែ\r\n                </button>\r\n            </div>\r\n\r\n            {reportType === 'daily' && (\r\n                <div className=\"report-section\">\r\n                    <h3>របាយការណ៍ថ្ងៃនេះ ({new Date().toLocaleDateString('km-KH')})</h3>\r\n                    <p>ចំនួនបញ្ជាទិញ: {dailySales.count}</p>\r\n                    <p>\r\n                        សរុប (USD): {USD_SYMBOL}{formatUSD(dailySales.totalUSD)}\r\n                    </p>\r\n                    <p className=\"khr-total\">\r\n                        សរុប (KHR): {KHR_SYMBOL}{formatKHR(dailySales.totalUSD * exchangeRate)}\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            {reportType === 'monthly' && (\r\n                 <div className=\"report-section\">\r\n                    <h3>របាយការណ៍ខែនេះ ({new Date().toLocaleDateString('km-KH', { month: 'long', year: 'numeric'})})</h3>\r\n                    <p>ចំនួនបញ្ជាទិញ: {monthlySales.count}</p>\r\n                    <p>\r\n                        សរុប (USD): {USD_SYMBOL}{formatUSD(monthlySales.totalUSD)}\r\n                    </p>\r\n                    <p className=\"khr-total\">\r\n                        សរុប (KHR): {KHR_SYMBOL}{formatKHR(monthlySales.totalUSD * exchangeRate)}\r\n                    </p>\r\n                </div>\r\n            )}\r\n             {allOrders.length === 0 && <p>មិនទាន់មានទិន្នន័យលក់នៅឡើយ។</p>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SalesReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}