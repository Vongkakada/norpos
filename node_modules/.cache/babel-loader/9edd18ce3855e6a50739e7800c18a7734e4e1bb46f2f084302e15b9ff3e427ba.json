{"ast":null,"code":"var _jsxFileName = \"D:\\\\CUS\\\\POS Nor Coffee\\\\pos\\\\src\\\\components\\\\ReceiptModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/ReceiptModal.jsx\nimport React, { useRef } from \"react\";\nimport { KHR_SYMBOL, formatKHR } from \"../utils/formatters\";\nimport qrcode from \"../assets/qrcode.jpg\"; // QR image URL\nimport logo from \"../assets/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SHOP_STATIC_DETAILS = {\n  address: \"ផ្ទះលេខ 137 , ផ្លូវ 223, កំពង់ចាម\",\n  tel: \"016 438 555 / 061 91 4444\"\n};\nfunction ReceiptModal({\n  show,\n  onClose,\n  order,\n  orderId,\n  shopName\n}) {\n  _s();\n  const receiptRef = useRef(null);\n  if (!show) return null;\n  const now = new Date();\n  const subtotalKHR = order.reduce((sum, item) => sum + (item.priceKHR || item.priceUSD || 0) * item.quantity, 0);\n  const totalKHR = subtotalKHR;\n\n  // ---------------------------\n  // Convert receipt to image and print via RawBT\n  // ---------------------------\n  const handlePrintRawBT = async () => {\n    try {\n      // Create a temporary canvas\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n\n      // Set canvas size for thermal printer (384px width is common for 58mm printers)\n      const width = 384;\n      const padding = 16;\n      const lineHeight = 24;\n      let currentY = padding;\n\n      // Calculate required height\n      const estimatedHeight = 80 +\n      // logo\n      lineHeight * 6 +\n      // header info\n      lineHeight * 2 +\n      // dividers\n      order.length * lineHeight * 2 +\n      // items\n      lineHeight * 2 +\n      // total\n      100 +\n      // QR code\n      lineHeight +\n      // thank you\n      padding * 2;\n      canvas.width = width;\n      canvas.height = estimatedHeight;\n\n      // Fill white background\n      ctx.fillStyle = '#ffffff';\n      ctx.fillRect(0, 0, width, canvas.height);\n\n      // Set default text style\n      ctx.fillStyle = '#000000';\n      ctx.textAlign = 'center';\n\n      // Load and draw logo\n      const logoImg = new Image();\n      logoImg.crossOrigin = 'anonymous';\n      await new Promise(resolve => {\n        logoImg.onload = resolve;\n        logoImg.src = logo;\n      });\n      const logoSize = 60;\n      ctx.drawImage(logoImg, (width - logoSize) / 2, currentY, logoSize, logoSize);\n      currentY += logoSize + 8;\n\n      // Shop name (bold)\n      ctx.font = 'bold 18px Arial, sans-serif';\n      ctx.fillText(shopName, width / 2, currentY);\n      currentY += lineHeight;\n\n      // Address and contact (regular)\n      ctx.font = '14px Arial, sans-serif';\n      ctx.fillText(SHOP_STATIC_DETAILS.address, width / 2, currentY);\n      currentY += lineHeight;\n      ctx.fillText(`Tel: ${SHOP_STATIC_DETAILS.tel}`, width / 2, currentY);\n      currentY += lineHeight;\n\n      // Date and Invoice\n      ctx.font = '12px Arial, sans-serif';\n      ctx.fillText(`Date: ${now.toLocaleDateString()} ${now.toLocaleTimeString()}`, width / 2, currentY);\n      currentY += lineHeight;\n      ctx.fillText(`Invoice: ${orderId}`, width / 2, currentY);\n      currentY += lineHeight;\n\n      // Divider line\n      currentY += 8;\n      ctx.beginPath();\n      ctx.moveTo(padding, currentY);\n      ctx.lineTo(width - padding, currentY);\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = 1;\n      ctx.stroke();\n      currentY += 12;\n\n      // Order items\n      ctx.textAlign = 'left';\n      ctx.font = '13px Arial, sans-serif';\n      order.forEach(item => {\n        const itemName = `${item.khmerName} (${item.englishName || \"\"})`;\n        ctx.fillText(itemName, padding, currentY);\n        currentY += lineHeight;\n        const qtyPrice = `Qty:${item.quantity}  ${KHR_SYMBOL}${formatKHR((item.priceKHR || item.priceUSD) * item.quantity)}`;\n        ctx.fillText(qtyPrice, padding + 8, currentY);\n        currentY += lineHeight;\n      });\n\n      // Bottom divider\n      currentY += 8;\n      ctx.beginPath();\n      ctx.moveTo(padding, currentY);\n      ctx.lineTo(width - padding, currentY);\n      ctx.stroke();\n      currentY += 16;\n\n      // Total\n      ctx.textAlign = 'center';\n      ctx.font = 'bold 16px Arial, sans-serif';\n      ctx.fillText(`Total: ${KHR_SYMBOL}${formatKHR(totalKHR)}`, width / 2, currentY);\n      currentY += lineHeight + 8;\n\n      // Divider\n      ctx.beginPath();\n      ctx.moveTo(padding, currentY);\n      ctx.lineTo(width - padding, currentY);\n      ctx.stroke();\n      currentY += 16;\n\n      // QR Code\n      const qrImg = new Image();\n      qrImg.crossOrigin = 'anonymous';\n      await new Promise(resolve => {\n        qrImg.onload = resolve;\n        qrImg.src = qrcode;\n      });\n      const qrSize = 100;\n      ctx.drawImage(qrImg, (width - qrSize) / 2, currentY, qrSize, qrSize);\n      currentY += qrSize + 12;\n\n      // Thank you message\n      ctx.font = '14px Arial, sans-serif';\n      ctx.fillText('សូមអរគុណ! សូមអញ្ជើញមកម្តងទៀត!', width / 2, currentY);\n\n      // Convert canvas to base64 image\n      const imageData = canvas.toDataURL('image/png');\n      const base64Data = imageData.split(',')[1];\n\n      // Send to RawBT app with image\n      window.location.href = `rawbt://print?image=${base64Data}`;\n    } catch (error) {\n      console.error('Error generating receipt image:', error);\n      alert('មានបញ្ហាក្នុងការបង្កើតវិក្កយបត្រ / Error generating receipt');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal show\",\n    id: \"receiptModal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close-button\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"receipt-preview\",\n        ref: receiptRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"logo\",\n            style: {\n              width: 80\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: shopName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: SHOP_STATIC_DETAILS.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Tel: \", SHOP_STATIC_DETAILS.tel]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Date: \", now.toLocaleDateString(), \" \", now.toLocaleTimeString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Invoice: \", orderId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), order.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [item.khmerName, \" (\", item.englishName || \"\", \") x \", item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [KHR_SYMBOL, formatKHR((item.priceKHR || item.priceUSD) * item.quantity)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total: \", KHR_SYMBOL, formatKHR(totalKHR)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: qrcode,\n          alt: \"QR\",\n          style: {\n            width: 80\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u179F\\u17BC\\u1798\\u17A2\\u179A\\u1782\\u17BB\\u178E! \\u179F\\u17BC\\u1798\\u17A2\\u1789\\u17D2\\u1787\\u17BE\\u1789\\u1798\\u1780\\u1798\\u17D2\\u178F\\u1784\\u1791\\u17C0\\u178F!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"print-button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-close-receipt\",\n          onClick: onClose,\n          children: \"\\u1794\\u17C4\\u17C7\\u1794\\u1784\\u17CB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-print\",\n          onClick: handlePrintRawBT,\n          children: \"\\u1794\\u17C4\\u17C7\\u1796\\u17BB\\u1798\\u17D2\\u1796\\u179C\\u17B7\\u1780\\u17D2\\u1780\\u1799\\u1794\\u178F\\u17D2\\u179A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n_s(ReceiptModal, \"qEFJxE6nYE5I2jW4d6ctcBePdu0=\");\n_c = ReceiptModal;\nexport default ReceiptModal;\nvar _c;\n$RefreshReg$(_c, \"ReceiptModal\");","map":{"version":3,"names":["React","useRef","KHR_SYMBOL","formatKHR","qrcode","logo","jsxDEV","_jsxDEV","SHOP_STATIC_DETAILS","address","tel","ReceiptModal","show","onClose","order","orderId","shopName","_s","receiptRef","now","Date","subtotalKHR","reduce","sum","item","priceKHR","priceUSD","quantity","totalKHR","handlePrintRawBT","canvas","document","createElement","ctx","getContext","width","padding","lineHeight","currentY","estimatedHeight","length","height","fillStyle","fillRect","textAlign","logoImg","Image","crossOrigin","Promise","resolve","onload","src","logoSize","drawImage","font","fillText","toLocaleDateString","toLocaleTimeString","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","forEach","itemName","khmerName","englishName","qtyPrice","qrImg","qrSize","imageData","toDataURL","base64Data","split","window","location","href","error","console","alert","className","id","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","alt","style","map","i","_c","$RefreshReg$"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/ReceiptModal.jsx"],"sourcesContent":["// src/components/ReceiptModal.jsx\r\nimport React, { useRef } from \"react\";\r\nimport { KHR_SYMBOL, formatKHR } from \"../utils/formatters\";\r\nimport qrcode from \"../assets/qrcode.jpg\"; // QR image URL\r\nimport logo from \"../assets/logo.png\";\r\n\r\nconst SHOP_STATIC_DETAILS = {\r\n  address: \"ផ្ទះលេខ 137 , ផ្លូវ 223, កំពង់ចាម\",\r\n  tel: \"016 438 555 / 061 91 4444\",\r\n};\r\n\r\nfunction ReceiptModal({ show, onClose, order, orderId, shopName }) {\r\n  const receiptRef = useRef(null);\r\n\r\n  if (!show) return null;\r\n\r\n  const now = new Date();\r\n  const subtotalKHR = order.reduce(\r\n    (sum, item) => sum + (item.priceKHR || item.priceUSD || 0) * item.quantity,\r\n    0\r\n  );\r\n  const totalKHR = subtotalKHR;\r\n\r\n  // ---------------------------\r\n  // Convert receipt to image and print via RawBT\r\n  // ---------------------------\r\n  const handlePrintRawBT = async () => {\r\n    try {\r\n      // Create a temporary canvas\r\n      const canvas = document.createElement('canvas');\r\n      const ctx = canvas.getContext('2d');\r\n      \r\n      // Set canvas size for thermal printer (384px width is common for 58mm printers)\r\n      const width = 384;\r\n      const padding = 16;\r\n      const lineHeight = 24;\r\n      let currentY = padding;\r\n\r\n      // Calculate required height\r\n      const estimatedHeight = \r\n        80 + // logo\r\n        lineHeight * 6 + // header info\r\n        lineHeight * 2 + // dividers\r\n        order.length * lineHeight * 2 + // items\r\n        lineHeight * 2 + // total\r\n        100 + // QR code\r\n        lineHeight + // thank you\r\n        padding * 2;\r\n\r\n      canvas.width = width;\r\n      canvas.height = estimatedHeight;\r\n\r\n      // Fill white background\r\n      ctx.fillStyle = '#ffffff';\r\n      ctx.fillRect(0, 0, width, canvas.height);\r\n\r\n      // Set default text style\r\n      ctx.fillStyle = '#000000';\r\n      ctx.textAlign = 'center';\r\n\r\n      // Load and draw logo\r\n      const logoImg = new Image();\r\n      logoImg.crossOrigin = 'anonymous';\r\n      await new Promise((resolve) => {\r\n        logoImg.onload = resolve;\r\n        logoImg.src = logo;\r\n      });\r\n      const logoSize = 60;\r\n      ctx.drawImage(logoImg, (width - logoSize) / 2, currentY, logoSize, logoSize);\r\n      currentY += logoSize + 8;\r\n\r\n      // Shop name (bold)\r\n      ctx.font = 'bold 18px Arial, sans-serif';\r\n      ctx.fillText(shopName, width / 2, currentY);\r\n      currentY += lineHeight;\r\n\r\n      // Address and contact (regular)\r\n      ctx.font = '14px Arial, sans-serif';\r\n      ctx.fillText(SHOP_STATIC_DETAILS.address, width / 2, currentY);\r\n      currentY += lineHeight;\r\n      ctx.fillText(`Tel: ${SHOP_STATIC_DETAILS.tel}`, width / 2, currentY);\r\n      currentY += lineHeight;\r\n\r\n      // Date and Invoice\r\n      ctx.font = '12px Arial, sans-serif';\r\n      ctx.fillText(\r\n        `Date: ${now.toLocaleDateString()} ${now.toLocaleTimeString()}`,\r\n        width / 2,\r\n        currentY\r\n      );\r\n      currentY += lineHeight;\r\n      ctx.fillText(`Invoice: ${orderId}`, width / 2, currentY);\r\n      currentY += lineHeight;\r\n\r\n      // Divider line\r\n      currentY += 8;\r\n      ctx.beginPath();\r\n      ctx.moveTo(padding, currentY);\r\n      ctx.lineTo(width - padding, currentY);\r\n      ctx.strokeStyle = '#000000';\r\n      ctx.lineWidth = 1;\r\n      ctx.stroke();\r\n      currentY += 12;\r\n\r\n      // Order items\r\n      ctx.textAlign = 'left';\r\n      ctx.font = '13px Arial, sans-serif';\r\n      \r\n      order.forEach((item) => {\r\n        const itemName = `${item.khmerName} (${item.englishName || \"\"})`;\r\n        ctx.fillText(itemName, padding, currentY);\r\n        currentY += lineHeight;\r\n        \r\n        const qtyPrice = `Qty:${item.quantity}  ${KHR_SYMBOL}${formatKHR(\r\n          (item.priceKHR || item.priceUSD) * item.quantity\r\n        )}`;\r\n        ctx.fillText(qtyPrice, padding + 8, currentY);\r\n        currentY += lineHeight;\r\n      });\r\n\r\n      // Bottom divider\r\n      currentY += 8;\r\n      ctx.beginPath();\r\n      ctx.moveTo(padding, currentY);\r\n      ctx.lineTo(width - padding, currentY);\r\n      ctx.stroke();\r\n      currentY += 16;\r\n\r\n      // Total\r\n      ctx.textAlign = 'center';\r\n      ctx.font = 'bold 16px Arial, sans-serif';\r\n      ctx.fillText(\r\n        `Total: ${KHR_SYMBOL}${formatKHR(totalKHR)}`,\r\n        width / 2,\r\n        currentY\r\n      );\r\n      currentY += lineHeight + 8;\r\n\r\n      // Divider\r\n      ctx.beginPath();\r\n      ctx.moveTo(padding, currentY);\r\n      ctx.lineTo(width - padding, currentY);\r\n      ctx.stroke();\r\n      currentY += 16;\r\n\r\n      // QR Code\r\n      const qrImg = new Image();\r\n      qrImg.crossOrigin = 'anonymous';\r\n      await new Promise((resolve) => {\r\n        qrImg.onload = resolve;\r\n        qrImg.src = qrcode;\r\n      });\r\n      const qrSize = 100;\r\n      ctx.drawImage(qrImg, (width - qrSize) / 2, currentY, qrSize, qrSize);\r\n      currentY += qrSize + 12;\r\n\r\n      // Thank you message\r\n      ctx.font = '14px Arial, sans-serif';\r\n      ctx.fillText('សូមអរគុណ! សូមអញ្ជើញមកម្តងទៀត!', width / 2, currentY);\r\n\r\n      // Convert canvas to base64 image\r\n      const imageData = canvas.toDataURL('image/png');\r\n      const base64Data = imageData.split(',')[1];\r\n\r\n      // Send to RawBT app with image\r\n      window.location.href = `rawbt://print?image=${base64Data}`;\r\n      \r\n    } catch (error) {\r\n      console.error('Error generating receipt image:', error);\r\n      alert('មានបញ្ហាក្នុងការបង្កើតវិក្កយបត្រ / Error generating receipt');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal show\" id=\"receiptModal\">\r\n      <div className=\"modal-content\">\r\n        <span className=\"close-button\" onClick={onClose}>\r\n          ×\r\n        </span>\r\n\r\n        <div className=\"receipt-preview\" ref={receiptRef}>\r\n          {/* Preview inside app */}\r\n          <div className=\"receipt-logo\">\r\n            <img src={logo} alt=\"logo\" style={{ width: 80 }} />\r\n          </div>\r\n          <p>{shopName}</p>\r\n          <p>{SHOP_STATIC_DETAILS.address}</p>\r\n          <p>Tel: {SHOP_STATIC_DETAILS.tel}</p>\r\n          <p>\r\n            Date: {now.toLocaleDateString()} {now.toLocaleTimeString()}\r\n          </p>\r\n          <p>Invoice: {orderId}</p>\r\n          <hr />\r\n          {order.map((item, i) => (\r\n            <div key={i}>\r\n              <p>\r\n                {item.khmerName} ({item.englishName || \"\"}) x {item.quantity}\r\n              </p>\r\n              <p>\r\n                {KHR_SYMBOL}\r\n                {formatKHR((item.priceKHR || item.priceUSD) * item.quantity)}\r\n              </p>\r\n            </div>\r\n          ))}\r\n          <hr />\r\n          <p>\r\n            Total: {KHR_SYMBOL}\r\n            {formatKHR(totalKHR)}\r\n          </p>\r\n          <img src={qrcode} alt=\"QR\" style={{ width: 80 }} />\r\n          <p>សូមអរគុណ! សូមអញ្ជើញមកម្តងទៀត!</p>\r\n        </div>\r\n\r\n        <div className=\"print-button-container\">\r\n          <button className=\"btn-close-receipt\" onClick={onClose}>\r\n            បោះបង់\r\n          </button>\r\n          <button className=\"btn-print\" onClick={handlePrintRawBT}>\r\n            បោះពុម្ពវិក្កយបត្រ\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReceiptModal;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,UAAU,EAAEC,SAAS,QAAQ,qBAAqB;AAC3D,OAAOC,MAAM,MAAM,sBAAsB,CAAC,CAAC;AAC3C,OAAOC,IAAI,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,mBAAmB,GAAG;EAC1BC,OAAO,EAAE,mCAAmC;EAC5CC,GAAG,EAAE;AACP,CAAC;AAED,SAASC,YAAYA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC,KAAK;EAAEC,OAAO;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACjE,MAAMC,UAAU,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAE/B,IAAI,CAACW,IAAI,EAAE,OAAO,IAAI;EAEtB,MAAMO,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;EACtB,MAAMC,WAAW,GAAGP,KAAK,CAACQ,MAAM,CAC9B,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAG,CAACC,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACE,QAAQ,IAAI,CAAC,IAAIF,IAAI,CAACG,QAAQ,EAC1E,CACF,CAAC;EACD,MAAMC,QAAQ,GAAGP,WAAW;;EAE5B;EACA;EACA;EACA,MAAMQ,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF;MACA,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/C,MAAMC,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;;MAEnC;MACA,MAAMC,KAAK,GAAG,GAAG;MACjB,MAAMC,OAAO,GAAG,EAAE;MAClB,MAAMC,UAAU,GAAG,EAAE;MACrB,IAAIC,QAAQ,GAAGF,OAAO;;MAEtB;MACA,MAAMG,eAAe,GACnB,EAAE;MAAG;MACLF,UAAU,GAAG,CAAC;MAAG;MACjBA,UAAU,GAAG,CAAC;MAAG;MACjBvB,KAAK,CAAC0B,MAAM,GAAGH,UAAU,GAAG,CAAC;MAAG;MAChCA,UAAU,GAAG,CAAC;MAAG;MACjB,GAAG;MAAG;MACNA,UAAU;MAAG;MACbD,OAAO,GAAG,CAAC;MAEbN,MAAM,CAACK,KAAK,GAAGA,KAAK;MACpBL,MAAM,CAACW,MAAM,GAAGF,eAAe;;MAE/B;MACAN,GAAG,CAACS,SAAS,GAAG,SAAS;MACzBT,GAAG,CAACU,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAER,KAAK,EAAEL,MAAM,CAACW,MAAM,CAAC;;MAExC;MACAR,GAAG,CAACS,SAAS,GAAG,SAAS;MACzBT,GAAG,CAACW,SAAS,GAAG,QAAQ;;MAExB;MACA,MAAMC,OAAO,GAAG,IAAIC,KAAK,CAAC,CAAC;MAC3BD,OAAO,CAACE,WAAW,GAAG,WAAW;MACjC,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAK;QAC7BJ,OAAO,CAACK,MAAM,GAAGD,OAAO;QACxBJ,OAAO,CAACM,GAAG,GAAG9C,IAAI;MACpB,CAAC,CAAC;MACF,MAAM+C,QAAQ,GAAG,EAAE;MACnBnB,GAAG,CAACoB,SAAS,CAACR,OAAO,EAAE,CAACV,KAAK,GAAGiB,QAAQ,IAAI,CAAC,EAAEd,QAAQ,EAAEc,QAAQ,EAAEA,QAAQ,CAAC;MAC5Ed,QAAQ,IAAIc,QAAQ,GAAG,CAAC;;MAExB;MACAnB,GAAG,CAACqB,IAAI,GAAG,6BAA6B;MACxCrB,GAAG,CAACsB,QAAQ,CAACvC,QAAQ,EAAEmB,KAAK,GAAG,CAAC,EAAEG,QAAQ,CAAC;MAC3CA,QAAQ,IAAID,UAAU;;MAEtB;MACAJ,GAAG,CAACqB,IAAI,GAAG,wBAAwB;MACnCrB,GAAG,CAACsB,QAAQ,CAAC/C,mBAAmB,CAACC,OAAO,EAAE0B,KAAK,GAAG,CAAC,EAAEG,QAAQ,CAAC;MAC9DA,QAAQ,IAAID,UAAU;MACtBJ,GAAG,CAACsB,QAAQ,CAAC,QAAQ/C,mBAAmB,CAACE,GAAG,EAAE,EAAEyB,KAAK,GAAG,CAAC,EAAEG,QAAQ,CAAC;MACpEA,QAAQ,IAAID,UAAU;;MAEtB;MACAJ,GAAG,CAACqB,IAAI,GAAG,wBAAwB;MACnCrB,GAAG,CAACsB,QAAQ,CACV,SAASpC,GAAG,CAACqC,kBAAkB,CAAC,CAAC,IAAIrC,GAAG,CAACsC,kBAAkB,CAAC,CAAC,EAAE,EAC/DtB,KAAK,GAAG,CAAC,EACTG,QACF,CAAC;MACDA,QAAQ,IAAID,UAAU;MACtBJ,GAAG,CAACsB,QAAQ,CAAC,YAAYxC,OAAO,EAAE,EAAEoB,KAAK,GAAG,CAAC,EAAEG,QAAQ,CAAC;MACxDA,QAAQ,IAAID,UAAU;;MAEtB;MACAC,QAAQ,IAAI,CAAC;MACbL,GAAG,CAACyB,SAAS,CAAC,CAAC;MACfzB,GAAG,CAAC0B,MAAM,CAACvB,OAAO,EAAEE,QAAQ,CAAC;MAC7BL,GAAG,CAAC2B,MAAM,CAACzB,KAAK,GAAGC,OAAO,EAAEE,QAAQ,CAAC;MACrCL,GAAG,CAAC4B,WAAW,GAAG,SAAS;MAC3B5B,GAAG,CAAC6B,SAAS,GAAG,CAAC;MACjB7B,GAAG,CAAC8B,MAAM,CAAC,CAAC;MACZzB,QAAQ,IAAI,EAAE;;MAEd;MACAL,GAAG,CAACW,SAAS,GAAG,MAAM;MACtBX,GAAG,CAACqB,IAAI,GAAG,wBAAwB;MAEnCxC,KAAK,CAACkD,OAAO,CAAExC,IAAI,IAAK;QACtB,MAAMyC,QAAQ,GAAG,GAAGzC,IAAI,CAAC0C,SAAS,KAAK1C,IAAI,CAAC2C,WAAW,IAAI,EAAE,GAAG;QAChElC,GAAG,CAACsB,QAAQ,CAACU,QAAQ,EAAE7B,OAAO,EAAEE,QAAQ,CAAC;QACzCA,QAAQ,IAAID,UAAU;QAEtB,MAAM+B,QAAQ,GAAG,OAAO5C,IAAI,CAACG,QAAQ,KAAKzB,UAAU,GAAGC,SAAS,CAC9D,CAACqB,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,QAC1C,CAAC,EAAE;QACHM,GAAG,CAACsB,QAAQ,CAACa,QAAQ,EAAEhC,OAAO,GAAG,CAAC,EAAEE,QAAQ,CAAC;QAC7CA,QAAQ,IAAID,UAAU;MACxB,CAAC,CAAC;;MAEF;MACAC,QAAQ,IAAI,CAAC;MACbL,GAAG,CAACyB,SAAS,CAAC,CAAC;MACfzB,GAAG,CAAC0B,MAAM,CAACvB,OAAO,EAAEE,QAAQ,CAAC;MAC7BL,GAAG,CAAC2B,MAAM,CAACzB,KAAK,GAAGC,OAAO,EAAEE,QAAQ,CAAC;MACrCL,GAAG,CAAC8B,MAAM,CAAC,CAAC;MACZzB,QAAQ,IAAI,EAAE;;MAEd;MACAL,GAAG,CAACW,SAAS,GAAG,QAAQ;MACxBX,GAAG,CAACqB,IAAI,GAAG,6BAA6B;MACxCrB,GAAG,CAACsB,QAAQ,CACV,UAAUrD,UAAU,GAAGC,SAAS,CAACyB,QAAQ,CAAC,EAAE,EAC5CO,KAAK,GAAG,CAAC,EACTG,QACF,CAAC;MACDA,QAAQ,IAAID,UAAU,GAAG,CAAC;;MAE1B;MACAJ,GAAG,CAACyB,SAAS,CAAC,CAAC;MACfzB,GAAG,CAAC0B,MAAM,CAACvB,OAAO,EAAEE,QAAQ,CAAC;MAC7BL,GAAG,CAAC2B,MAAM,CAACzB,KAAK,GAAGC,OAAO,EAAEE,QAAQ,CAAC;MACrCL,GAAG,CAAC8B,MAAM,CAAC,CAAC;MACZzB,QAAQ,IAAI,EAAE;;MAEd;MACA,MAAM+B,KAAK,GAAG,IAAIvB,KAAK,CAAC,CAAC;MACzBuB,KAAK,CAACtB,WAAW,GAAG,WAAW;MAC/B,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAK;QAC7BoB,KAAK,CAACnB,MAAM,GAAGD,OAAO;QACtBoB,KAAK,CAAClB,GAAG,GAAG/C,MAAM;MACpB,CAAC,CAAC;MACF,MAAMkE,MAAM,GAAG,GAAG;MAClBrC,GAAG,CAACoB,SAAS,CAACgB,KAAK,EAAE,CAAClC,KAAK,GAAGmC,MAAM,IAAI,CAAC,EAAEhC,QAAQ,EAAEgC,MAAM,EAAEA,MAAM,CAAC;MACpEhC,QAAQ,IAAIgC,MAAM,GAAG,EAAE;;MAEvB;MACArC,GAAG,CAACqB,IAAI,GAAG,wBAAwB;MACnCrB,GAAG,CAACsB,QAAQ,CAAC,+BAA+B,EAAEpB,KAAK,GAAG,CAAC,EAAEG,QAAQ,CAAC;;MAElE;MACA,MAAMiC,SAAS,GAAGzC,MAAM,CAAC0C,SAAS,CAAC,WAAW,CAAC;MAC/C,MAAMC,UAAU,GAAGF,SAAS,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;MAE1C;MACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,uBAAuBJ,UAAU,EAAE;IAE5D,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvDE,KAAK,CAAC,6DAA6D,CAAC;IACtE;EACF,CAAC;EAED,oBACEzE,OAAA;IAAK0E,SAAS,EAAC,YAAY;IAACC,EAAE,EAAC,cAAc;IAAAC,QAAA,eAC3C5E,OAAA;MAAK0E,SAAS,EAAC,eAAe;MAAAE,QAAA,gBAC5B5E,OAAA;QAAM0E,SAAS,EAAC,cAAc;QAACG,OAAO,EAAEvE,OAAQ;QAAAsE,QAAA,EAAC;MAEjD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAEPjF,OAAA;QAAK0E,SAAS,EAAC,iBAAiB;QAACQ,GAAG,EAAEvE,UAAW;QAAAiE,QAAA,gBAE/C5E,OAAA;UAAK0E,SAAS,EAAC,cAAc;UAAAE,QAAA,eAC3B5E,OAAA;YAAK4C,GAAG,EAAE9C,IAAK;YAACqF,GAAG,EAAC,MAAM;YAACC,KAAK,EAAE;cAAExD,KAAK,EAAE;YAAG;UAAE;YAAAkD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC,eACNjF,OAAA;UAAA4E,QAAA,EAAInE;QAAQ;UAAAqE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjBjF,OAAA;UAAA4E,QAAA,EAAI3E,mBAAmB,CAACC;QAAO;UAAA4E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpCjF,OAAA;UAAA4E,QAAA,GAAG,OAAK,EAAC3E,mBAAmB,CAACE,GAAG;QAAA;UAAA2E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrCjF,OAAA;UAAA4E,QAAA,GAAG,QACK,EAAChE,GAAG,CAACqC,kBAAkB,CAAC,CAAC,EAAC,GAAC,EAACrC,GAAG,CAACsC,kBAAkB,CAAC,CAAC;QAAA;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC,eACJjF,OAAA;UAAA4E,QAAA,GAAG,WAAS,EAACpE,OAAO;QAAA;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzBjF,OAAA;UAAA8E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACL1E,KAAK,CAAC8E,GAAG,CAAC,CAACpE,IAAI,EAAEqE,CAAC,kBACjBtF,OAAA;UAAA4E,QAAA,gBACE5E,OAAA;YAAA4E,QAAA,GACG3D,IAAI,CAAC0C,SAAS,EAAC,IAAE,EAAC1C,IAAI,CAAC2C,WAAW,IAAI,EAAE,EAAC,MAAI,EAAC3C,IAAI,CAACG,QAAQ;UAAA;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC,eACJjF,OAAA;YAAA4E,QAAA,GACGjF,UAAU,EACVC,SAAS,CAAC,CAACqB,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,QAAQ,CAAC;UAAA;YAAA0D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC;QAAA,GAPIK,CAAC;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAQN,CACN,CAAC,eACFjF,OAAA;UAAA8E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNjF,OAAA;UAAA4E,QAAA,GAAG,SACM,EAACjF,UAAU,EACjBC,SAAS,CAACyB,QAAQ,CAAC;QAAA;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACJjF,OAAA;UAAK4C,GAAG,EAAE/C,MAAO;UAACsF,GAAG,EAAC,IAAI;UAACC,KAAK,EAAE;YAAExD,KAAK,EAAE;UAAG;QAAE;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACnDjF,OAAA;UAAA4E,QAAA,EAAG;QAA6B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC,eAENjF,OAAA;QAAK0E,SAAS,EAAC,wBAAwB;QAAAE,QAAA,gBACrC5E,OAAA;UAAQ0E,SAAS,EAAC,mBAAmB;UAACG,OAAO,EAAEvE,OAAQ;UAAAsE,QAAA,EAAC;QAExD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTjF,OAAA;UAAQ0E,SAAS,EAAC,WAAW;UAACG,OAAO,EAAEvD,gBAAiB;UAAAsD,QAAA,EAAC;QAEzD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvE,EAAA,CArNQN,YAAY;AAAAmF,EAAA,GAAZnF,YAAY;AAuNrB,eAAeA,YAAY;AAAC,IAAAmF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}