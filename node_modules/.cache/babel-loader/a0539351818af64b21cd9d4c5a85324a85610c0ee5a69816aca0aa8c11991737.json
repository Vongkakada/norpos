{"ast":null,"code":"var _jsxFileName = \"D:\\\\CUS\\\\POS Nor Coffee\\\\pos\\\\src\\\\components\\\\Menu\\\\MenuPanel.js\",\n  _s = $RefreshSig$();\n// src/components/Menu/MenuPanel.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport MenuCategory from './MenuCategory';\nimport // Import API functions\n{ getMenuItems, getCategories } from '../../services/api';\n// Styles are usually imported globally (App.js) or in the component itself\n// import '../../assets/styles/Menu.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MenuPanel = () => {\n  _s();\n  const [allMenuItems, setAllMenuItems] = useState([]);\n  const [categories, setCategories] = useState([]); // To store category names and potentially order\n  const [categorizedMenu, setCategorizedMenu] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchMenuData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Fetch both menu items and categories (if your API supports it)\n      // For simplicity, let's assume getCategories returns an array of category objects\n      // like [{ id: '1', name: 'HOT DRINKS', displayOrder: 1 }, ...]\n      // And getMenuItems returns all items, each with a 'categoryId' or 'categoryName'\n\n      const items = await getMenuItems(); // Assume items have a 'category' string property\n      // const fetchedCategories = await getCategories(); // Optional: if you have a separate categories endpoint\n      // and want to control display order from backend.\n\n      setAllMenuItems(items || []); // Handle case where API returns null/undefined\n\n      // If you fetch categories separately and want to use their display order:\n      // setCategories(fetchedCategories || []); \n      // For now, we'll derive categories from items and define a static order.\n    } catch (err) {\n      console.error(\"Failed to fetch menu data:\", err);\n      setError(err.message || \"មិនអាចទាញយកម៉ឺនុយបានទេ។ សូមព្យាយាមម្តងទៀត។\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchMenuData();\n  }, [fetchMenuData]);\n  useEffect(() => {\n    // Categorize menu items whenever allMenuItems state changes\n    const newCategorizedMenu = {};\n    allMenuItems.forEach(item => {\n      const categoryName = item.category || \"មិនបានបញ្ជាក់\"; // Fallback category\n      if (!newCategorizedMenu[categoryName]) {\n        newCategorizedMenu[categoryName] = [];\n      }\n      newCategorizedMenu[categoryName].push(item);\n    });\n    setCategorizedMenu(newCategorizedMenu);\n  }, [allMenuItems]);\n\n  // Define the order of categories as they appear in your menu image or from fetchedCategories\n  // This could also be dynamic if categories are fetched with a displayOrder property.\n  const categoryDisplayOrder = [\"NOR SPECIAL\", \"HOT DRINKS\", \"COLD DRINKS\", \"TEA DRINKS\", \"FRAPPE DRINKS\", \"មិនបានបញ្ជាក់\" // Fallback\n  ];\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-panel-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '50px'\n        },\n        children: \"\\u1780\\u17C6\\u1796\\u17BB\\u1784\\u1791\\u17B6\\u1789\\u1799\\u1780\\u1798\\u17C9\\u17BA\\u1793\\u17BB\\u1799...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 54\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-panel-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '50px',\n          color: 'red'\n        },\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 54\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 16\n    }, this);\n  }\n  if (allMenuItems.length === 0 && !loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-panel-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '50px'\n        },\n        children: \"\\u1798\\u17B7\\u1793\\u1798\\u17B6\\u1793\\u1798\\u17BB\\u1781\\u1791\\u17C6\\u1793\\u17B7\\u1789\\u1780\\u17D2\\u1793\\u17BB\\u1784\\u1798\\u17C9\\u17BA\\u1793\\u17BB\\u1799\\u1791\\u17C1\\u17D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 54\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-panel-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"menu-panel-title\",\n      children: \"\\u1798\\u17C9\\u17BA\\u1793\\u17BB\\u1799\\u1797\\u17C1\\u179F\\u1787\\u17D2\\u1787\\u17C8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), categoryDisplayOrder.map(categoryName => {\n      if (categorizedMenu[categoryName] && categorizedMenu[categoryName].length > 0) {\n        return /*#__PURE__*/_jsxDEV(MenuCategory, {\n          categoryName: categoryName,\n          items: categorizedMenu[categoryName]\n        }, categoryName, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this);\n      }\n      return null;\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n_s(MenuPanel, \"4u1e/lT1/uaupEMMPEMRqe6fEM8=\");\n_c = MenuPanel;\nexport default MenuPanel;\nvar _c;\n$RefreshReg$(_c, \"MenuPanel\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","MenuCategory","getMenuItems","getCategories","jsxDEV","_jsxDEV","MenuPanel","_s","allMenuItems","setAllMenuItems","categories","setCategories","categorizedMenu","setCategorizedMenu","loading","setLoading","error","setError","fetchMenuData","items","err","console","message","newCategorizedMenu","forEach","item","categoryName","category","push","categoryDisplayOrder","className","children","style","textAlign","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","color","length","map","_c","$RefreshReg$"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/Menu/MenuPanel.js"],"sourcesContent":["// src/components/Menu/MenuPanel.js\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport MenuCategory from './MenuCategory';\r\nimport { getMenuItems, getCategories } // Import API functions\r\n    from '../../services/api';\r\n// Styles are usually imported globally (App.js) or in the component itself\r\n// import '../../assets/styles/Menu.css';\r\n\r\nconst MenuPanel = () => {\r\n    const [allMenuItems, setAllMenuItems] = useState([]);\r\n    const [categories, setCategories] = useState([]); // To store category names and potentially order\r\n    const [categorizedMenu, setCategorizedMenu] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const fetchMenuData = useCallback(async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            // Fetch both menu items and categories (if your API supports it)\r\n            // For simplicity, let's assume getCategories returns an array of category objects\r\n            // like [{ id: '1', name: 'HOT DRINKS', displayOrder: 1 }, ...]\r\n            // And getMenuItems returns all items, each with a 'categoryId' or 'categoryName'\r\n            \r\n            const items = await getMenuItems(); // Assume items have a 'category' string property\r\n            // const fetchedCategories = await getCategories(); // Optional: if you have a separate categories endpoint\r\n                                                        // and want to control display order from backend.\r\n\r\n            setAllMenuItems(items || []); // Handle case where API returns null/undefined\r\n            \r\n            // If you fetch categories separately and want to use their display order:\r\n            // setCategories(fetchedCategories || []); \r\n            // For now, we'll derive categories from items and define a static order.\r\n\r\n        } catch (err) {\r\n            console.error(\"Failed to fetch menu data:\", err);\r\n            setError(err.message || \"មិនអាចទាញយកម៉ឺនុយបានទេ។ សូមព្យាយាមម្តងទៀត។\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchMenuData();\r\n    }, [fetchMenuData]);\r\n\r\n    useEffect(() => {\r\n        // Categorize menu items whenever allMenuItems state changes\r\n        const newCategorizedMenu = {};\r\n        allMenuItems.forEach(item => {\r\n            const categoryName = item.category || \"មិនបានបញ្ជាក់\"; // Fallback category\r\n            if (!newCategorizedMenu[categoryName]) {\r\n                newCategorizedMenu[categoryName] = [];\r\n            }\r\n            newCategorizedMenu[categoryName].push(item);\r\n        });\r\n        setCategorizedMenu(newCategorizedMenu);\r\n    }, [allMenuItems]);\r\n\r\n    // Define the order of categories as they appear in your menu image or from fetchedCategories\r\n    // This could also be dynamic if categories are fetched with a displayOrder property.\r\n    const categoryDisplayOrder = [\r\n        \"NOR SPECIAL\",\r\n        \"HOT DRINKS\",\r\n        \"COLD DRINKS\",\r\n        \"TEA DRINKS\",\r\n        \"FRAPPE DRINKS\",\r\n        \"មិនបានបញ្ជាក់\" // Fallback\r\n    ];\r\n\r\n    if (loading) {\r\n        return <div className=\"menu-panel-container\"><p style={{textAlign: 'center', marginTop: '50px'}}>កំពុងទាញយកម៉ឺនុយ...</p></div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div className=\"menu-panel-container\"><p style={{textAlign: 'center', marginTop: '50px', color: 'red'}}>Error: {error}</p></div>;\r\n    }\r\n\r\n    if (allMenuItems.length === 0 && !loading) {\r\n        return <div className=\"menu-panel-container\"><p style={{textAlign: 'center', marginTop: '50px'}}>មិនមានមុខទំនិញក្នុងម៉ឺនុយទេ។</p></div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"menu-panel-container\">\r\n            <h2 className=\"menu-panel-title\">ម៉ឺនុយភេសជ្ជៈ</h2>\r\n            {categoryDisplayOrder.map(categoryName => {\r\n                if (categorizedMenu[categoryName] && categorizedMenu[categoryName].length > 0) {\r\n                    return (\r\n                        <MenuCategory\r\n                            key={categoryName}\r\n                            categoryName={categoryName}\r\n                            items={categorizedMenu[categoryName]}\r\n                        />\r\n                    );\r\n                }\r\n                return null;\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MenuPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}