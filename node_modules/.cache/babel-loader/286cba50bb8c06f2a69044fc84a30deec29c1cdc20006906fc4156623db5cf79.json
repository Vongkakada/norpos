{"ast":null,"code":"import React,{useState,useMemo}from'react';import{USD_SYMBOL,KHR_SYMBOL,formatUSD,formatKHR}from'../utils/formatters';import*as XLSX from'xlsx';import{saveAs}from'file-saver';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SalesReport(_ref){let{allOrders,exchangeRate}=_ref;const[reportType,setReportType]=useState('daily');const[filterDate,setFilterDate]=useState(new Date().toISOString().split('T')[0]);const[filterMonth,setFilterMonth]=useState(new Date().toISOString().slice(0,7));const salesData=useMemo(()=>{if(!allOrders||allOrders.length===0){return{grandTotalUSD:0,count:0,orders:[]};}let filteredOrders=[];if(reportType==='daily'){filteredOrders=allOrders.filter(order=>order.date&&order.date.startsWith(filterDate));}else if(reportType==='monthly'){filteredOrders=allOrders.filter(order=>order.date&&order.date.startsWith(filterMonth));}else if(reportType==='all'){filteredOrders=allOrders;}const grandTotalUSD=filteredOrders.reduce((sum,order)=>sum+(order.totalUSD||0),0);return{grandTotalUSD,count:filteredOrders.length,orders:filteredOrders};},[allOrders,reportType,filterDate,filterMonth]);const getReportTitle=()=>{if(reportType==='daily')return\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u1790\\u17D2\\u1784\\u17C3\\u1791\\u17B8 \".concat(new Date(filterDate+'T00:00:00').toLocaleDateString('km-KH',{day:'2-digit',month:'long',year:'numeric'}));if(reportType==='monthly')return\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u1781\\u17C2 \".concat(new Date(filterMonth+'-01T00:00:00').toLocaleDateString('km-KH',{month:'long',year:'numeric'}));return'·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã·ûü·ûö·ûª·ûî';};const handlePrintReport=()=>{const reportPanel=document.querySelector('.sales-report-panel');const appContainer=document.querySelector('.pos-container.report-view-container');if(reportPanel&&appContainer){appContainer.classList.add('printing-sales-report');reportPanel.classList.add('print-this-report');window.print();reportPanel.classList.remove('print-this-report');appContainer.classList.remove('printing-sales-report');}else{console.error(\"Report panel or app container not found for printing.\");}};const handleDownloadCSV=()=>{if(salesData.orders.length===0){alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã·ûë·û∂·ûâ·ûô·ûÄ·üî\");return;}let csvContent=\"data:text/csv;charset=utf-8,\";csvContent+=\"Order ID (Display),Firestore ID,Date,Time,Items Count,Total USD,Total KHR (at Purchase),Exchange Rate (at Purchase)\\r\\n\";salesData.orders.forEach(order=>{const orderDate=new Date(order.date);const dateStr=orderDate.toLocaleDateString('en-CA');const timeStr=orderDate.toLocaleTimeString('en-GB');const itemsCount=Array.isArray(order.items)?order.items.reduce((sum,item)=>sum+(item.quantity||0),0):0;const totalKHRatPurchase=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);csvContent+=\"\".concat(order.orderIdString||'N/A',\",\").concat(order.firestoreId||'N/A',\",\").concat(dateStr,\",\").concat(timeStr,\",\").concat(itemsCount,\",\").concat(formatUSD(order.totalUSD||0),\",\").concat(formatKHR(totalKHRatPurchase),\",\").concat(order.exchangeRateAtPurchase||'N/A',\"\\r\\n\");});const encodedUri=encodeURI(csvContent);const link=document.createElement(\"a\");link.setAttribute(\"href\",encodedUri);link.setAttribute(\"download\",\"sales_report_\".concat(reportType,\"_\").concat(new Date().toISOString().split('T')[0],\".csv\"));document.body.appendChild(link);link.click();document.body.removeChild(link);};const handleExportToExcel=()=>{if(!salesData||salesData.orders.length===0){alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã Export ·ûë·üÅ·üî\");return;}const dataForExcel=salesData.orders.map(order=>{const orderDate=new Date(order.date);const itemsCount=Array.isArray(order.items)?order.items.reduce((sum,item)=>sum+(item.quantity||0),0):0;const itemsString=Array.isArray(order.items)?order.items.map(i=>\"\".concat(i.khmerName||'',\" (x\").concat(i.quantity||0,\")\")).join(', '):'';const totalKHRatPurchase=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);return{'·ûõ·üÅ·ûÅ·ûú·û∑·ûÄ·üí·ûÄ·ûô·ûî·ûè·üí·ûö (Display)':order.orderIdString||'N/A','Firestore ID':order.firestoreId||'N/A','·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë':orderDate.toLocaleDateString('km-KH'),'·ûò·üâ·üÑ·ûÑ':orderDate.toLocaleTimeString('km-KH'),'·ûò·ûª·ûÅ·ûë·üÜ·ûì·û∑·ûâ·ûü·ûö·ûª·ûî':itemsCount,'·ûî·ûâ·üí·ûá·û∏·ûï·ûõ·û∑·ûè·ûï·ûõ':itemsString,'·ûü·ûö·ûª·ûî (USD)':order.totalUSD||0,'·ûü·ûö·ûª·ûî (KHR @·ûë·û∑·ûâ)':totalKHRatPurchase,'·û¢·ûè·üí·ûö·û∂·ûî·üí·ûè·ûº·ûö·ûî·üí·ûö·û∂·ûÄ·üã (@·ûë·û∑·ûâ)':order.exchangeRateAtPurchase||'N/A'};});const worksheet=XLSX.utils.json_to_sheet(dataForExcel);const columnWidths=[{wch:20},{wch:25},{wch:15},{wch:12},{wch:15},{wch:50},{wch:15},{wch:20},{wch:20}];worksheet['!cols']=columnWidths;const workbook=XLSX.utils.book_new();XLSX.utils.book_append_sheet(workbook,worksheet,\"Sales Report\");const excelBuffer=XLSX.write(workbook,{bookType:'xlsx',type:'array'});const dataBlob=new Blob([excelBuffer],{type:\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\"});saveAs(dataBlob,\"sales_report_\".concat(reportType,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\"));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sales-report-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u179B\\u1780\\u17CB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportType('daily'),className:reportType==='daily'?'active':'',children:\"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1790\\u17D2\\u1784\\u17C3\"}),reportType==='daily'&&/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterDate,onChange:e=>setFilterDate(e.target.value),style:{padding:'7px',borderRadius:'5px',border:'1px solid var(--border-color)'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportType('monthly'),className:reportType==='monthly'?'active':'',children:\"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1781\\u17C2\"}),reportType==='monthly'&&/*#__PURE__*/_jsx(\"input\",{type:\"month\",value:filterMonth,onChange:e=>setFilterMonth(e.target.value),style:{padding:'7px',borderRadius:'5px',border:'1px solid var(--border-color)'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportType('all'),className:reportType==='all'?'active':'',children:\"\\u1791\\u17B6\\u17C6\\u1784\\u17A2\\u179F\\u17CB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handlePrintReport,disabled:salesData.orders.length===0,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"print\",children:\"\\uD83D\\uDDA8\\uFE0F\"}),\" \\u1794\\u17C4\\u17C7\\u1796\\u17BB\\u1798\\u17D2\\u1796\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadCSV,disabled:salesData.orders.length===0,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"download\",children:\"\\uD83D\\uDCBE\"}),\" \\u1791\\u17B6\\u1789\\u1799\\u1780\\u1787\\u17B6 CSV\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExportToExcel,disabled:!salesData||salesData.orders.length===0,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"excel\",children:\"\\uD83D\\uDCC4\"}),\" \\u1791\\u17B6\\u1789\\u1799\\u1780\\u1787\\u17B6 Excel\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-section\",id:\"salesReportPrintSection\",children:[/*#__PURE__*/_jsx(\"h3\",{children:getReportTitle()}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u179F\\u179A\\u17BB\\u1794\\u1793\\u17C3\\u1780\\u17B6\\u179A\\u1794\\u1789\\u17D2\\u1787\\u17B6\\u1791\\u17B7\\u1789: \",salesData.count]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontWeight:'bold',marginTop:'10px',color:'var(--primary-color)'},children:[\"\\u1794\\u17D2\\u179A\\u17B6\\u1780\\u17CB\\u1785\\u17C6\\u178E\\u17BC\\u179B\\u179F\\u179A\\u17BB\\u1794 (USD): \",USD_SYMBOL,formatUSD(salesData.grandTotalUSD)]}),salesData.orders.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"report-data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID \\u1794\\u1784\\u17D2\\u17A0\\u17B6\\u1789\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u1798\\u17C9\\u17C4\\u1784\"}),/*#__PURE__*/_jsx(\"th\",{className:\"number-cell\",children:\"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u1798\\u17BB\\u1781\"}),/*#__PURE__*/_jsx(\"th\",{className:\"number-cell\",children:\"\\u179F\\u179A\\u17BB\\u1794 (USD)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"number-cell\",children:\"\\u179F\\u179A\\u17BB\\u1794 (KHR @\\u1791\\u17B7\\u1789)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:salesData.orders.map(order=>{const orderDate=new Date(order.date||new Date());const itemsCount=Array.isArray(order.items)?order.items.reduce((sum,item)=>sum+(item.quantity||0),0):0;const khrAtPurchase=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order.orderIdString||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:orderDate.toLocaleDateString('km-KH')}),/*#__PURE__*/_jsx(\"td\",{children:orderDate.toLocaleTimeString('km-KH')}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",children:itemsCount}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",children:formatUSD(order.totalUSD||0)}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",children:formatKHR(khrAtPurchase)})]},order.firestoreId||order.orderIdString);})}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",style:{textAlign:'right',fontWeight:'bold'},children:\"\\u179F\\u179A\\u17BB\\u1794:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",style:{fontWeight:'bold'},children:salesData.orders.reduce((acc,currOrder)=>{const currentItemsCount=Array.isArray(currOrder.items)?currOrder.items.reduce((s,i)=>s+(i.quantity||0),0):0;return acc+currentItemsCount;},0)}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",style:{fontWeight:'bold'},children:formatUSD(salesData.grandTotalUSD)}),/*#__PURE__*/_jsxs(\"td\",{className:\"number-cell\",style:{fontWeight:'bold'},children:[KHR_SYMBOL,formatKHR(salesData.orders.reduce((sum,order)=>{const khrValue=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);return sum+khrValue;},0))]})]})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"\\u1798\\u17B7\\u1793\\u1791\\u17B6\\u1793\\u17CB\\u1798\\u17B6\\u1793\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u179B\\u1780\\u17CB\\u179F\\u1798\\u17D2\\u179A\\u17B6\\u1794\\u17CB\\u178F\\u1798\\u17D2\\u179A\\u1784\\u1793\\u17C1\\u17C7\\u1791\\u17C1\\u17D4\"})]})]});}export default SalesReport;","map":{"version":3,"names":["React","useState","useMemo","USD_SYMBOL","KHR_SYMBOL","formatUSD","formatKHR","XLSX","saveAs","jsx","_jsx","jsxs","_jsxs","SalesReport","_ref","allOrders","exchangeRate","reportType","setReportType","filterDate","setFilterDate","Date","toISOString","split","filterMonth","setFilterMonth","slice","salesData","length","grandTotalUSD","count","orders","filteredOrders","filter","order","date","startsWith","reduce","sum","totalUSD","getReportTitle","concat","toLocaleDateString","day","month","year","handlePrintReport","reportPanel","document","querySelector","appContainer","classList","add","window","print","remove","console","error","handleDownloadCSV","alert","csvContent","forEach","orderDate","dateStr","timeStr","toLocaleTimeString","itemsCount","Array","isArray","items","item","quantity","totalKHRatPurchase","exchangeRateAtPurchase","orderIdString","firestoreId","encodedUri","encodeURI","link","createElement","setAttribute","body","appendChild","click","removeChild","handleExportToExcel","dataForExcel","map","itemsString","i","khmerName","join","worksheet","utils","json_to_sheet","columnWidths","wch","workbook","book_new","book_append_sheet","excelBuffer","write","bookType","type","dataBlob","Blob","className","children","onClick","value","onChange","e","target","style","padding","borderRadius","border","disabled","role","id","fontWeight","marginTop","color","khrAtPurchase","colSpan","textAlign","acc","currOrder","currentItemsCount","s","khrValue"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/SalesReport.jsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { USD_SYMBOL, KHR_SYMBOL, formatUSD, formatKHR } from '../utils/formatters';\r\nimport * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\n\r\nfunction SalesReport({ allOrders, exchangeRate }) {\r\n    const [reportType, setReportType] = useState('daily');\r\n    const [filterDate, setFilterDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\r\n\r\n    const salesData = useMemo(() => {\r\n        if (!allOrders || allOrders.length === 0) {\r\n            return { grandTotalUSD: 0, count: 0, orders: [] };\r\n        }\r\n\r\n        let filteredOrders = [];\r\n        if (reportType === 'daily') {\r\n            filteredOrders = allOrders.filter(order => order.date && order.date.startsWith(filterDate));\r\n        } else if (reportType === 'monthly') {\r\n            filteredOrders = allOrders.filter(order => order.date && order.date.startsWith(filterMonth));\r\n        } else if (reportType === 'all') {\r\n            filteredOrders = allOrders;\r\n        }\r\n\r\n        const grandTotalUSD = filteredOrders.reduce((sum, order) => sum + (order.totalUSD || 0), 0);\r\n\r\n        return {\r\n            grandTotalUSD,\r\n            count: filteredOrders.length,\r\n            orders: filteredOrders,\r\n        };\r\n    }, [allOrders, reportType, filterDate, filterMonth]);\r\n\r\n    const getReportTitle = () => {\r\n        if (reportType === 'daily') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûê·üí·ûÑ·üÉ·ûë·û∏ ${new Date(filterDate + 'T00:00:00').toLocaleDateString('km-KH', { day: '2-digit', month: 'long', year: 'numeric' })}`;\r\n        if (reportType === 'monthly') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûÅ·üÇ ${new Date(filterMonth + '-01T00:00:00').toLocaleDateString('km-KH', { month: 'long', year: 'numeric' })}`;\r\n        return '·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã·ûü·ûö·ûª·ûî';\r\n    };\r\n\r\n    const handlePrintReport = () => {\r\n        const reportPanel = document.querySelector('.sales-report-panel');\r\n        const appContainer = document.querySelector('.pos-container.report-view-container');\r\n\r\n        if (reportPanel && appContainer) {\r\n            appContainer.classList.add('printing-sales-report');\r\n            reportPanel.classList.add('print-this-report');\r\n            window.print();\r\n            reportPanel.classList.remove('print-this-report');\r\n            appContainer.classList.remove('printing-sales-report');\r\n        } else {\r\n            console.error(\"Report panel or app container not found for printing.\");\r\n        }\r\n    };\r\n\r\n    const handleDownloadCSV = () => {\r\n        if (salesData.orders.length === 0) {\r\n            alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã·ûë·û∂·ûâ·ûô·ûÄ·üî\");\r\n            return;\r\n        }\r\n\r\n        let csvContent = \"data:text/csv;charset=utf-8,\";\r\n        csvContent += \"Order ID (Display),Firestore ID,Date,Time,Items Count,Total USD,Total KHR (at Purchase),Exchange Rate (at Purchase)\\r\\n\";\r\n\r\n        salesData.orders.forEach(order => {\r\n            const orderDate = new Date(order.date);\r\n            const dateStr = orderDate.toLocaleDateString('en-CA');\r\n            const timeStr = orderDate.toLocaleTimeString('en-GB');\r\n            const itemsCount = Array.isArray(order.items) ? order.items.reduce((sum, item) => sum + (item.quantity || 0), 0) : 0;\r\n            const totalKHRatPurchase = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate);\r\n\r\n            csvContent += `${order.orderIdString || 'N/A'},${order.firestoreId || 'N/A'},${dateStr},${timeStr},${itemsCount},${formatUSD(order.totalUSD || 0)},${formatKHR(totalKHRatPurchase)},${order.exchangeRateAtPurchase || 'N/A'}\\r\\n`;\r\n        });\r\n\r\n        const encodedUri = encodeURI(csvContent);\r\n        const link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        link.setAttribute(\"download\", `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.csv`);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    const handleExportToExcel = () => {\r\n        if (!salesData || salesData.orders.length === 0) {\r\n            alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã Export ·ûë·üÅ·üî\");\r\n            return;\r\n        }\r\n\r\n        const dataForExcel = salesData.orders.map(order => {\r\n            const orderDate = new Date(order.date);\r\n            const itemsCount = Array.isArray(order.items) ? order.items.reduce((sum, item) => sum + (item.quantity || 0), 0) : 0;\r\n            const itemsString = Array.isArray(order.items) ? order.items.map(i => `${i.khmerName || ''} (x${i.quantity || 0})`).join(', ') : '';\r\n            const totalKHRatPurchase = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate);\r\n\r\n            return {\r\n                '·ûõ·üÅ·ûÅ·ûú·û∑·ûÄ·üí·ûÄ·ûô·ûî·ûè·üí·ûö (Display)': order.orderIdString || 'N/A',\r\n                'Firestore ID': order.firestoreId || 'N/A',\r\n                '·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë': orderDate.toLocaleDateString('km-KH'),\r\n                '·ûò·üâ·üÑ·ûÑ': orderDate.toLocaleTimeString('km-KH'),\r\n                '·ûò·ûª·ûÅ·ûë·üÜ·ûì·û∑·ûâ·ûü·ûö·ûª·ûî': itemsCount,\r\n                '·ûî·ûâ·üí·ûá·û∏·ûï·ûõ·û∑·ûè·ûï·ûõ': itemsString,\r\n                '·ûü·ûö·ûª·ûî (USD)': order.totalUSD || 0,\r\n                '·ûü·ûö·ûª·ûî (KHR @·ûë·û∑·ûâ)': totalKHRatPurchase,\r\n                '·û¢·ûè·üí·ûö·û∂·ûî·üí·ûè·ûº·ûö·ûî·üí·ûö·û∂·ûÄ·üã (@·ûë·û∑·ûâ)': order.exchangeRateAtPurchase || 'N/A'\r\n            };\r\n        });\r\n\r\n        const worksheet = XLSX.utils.json_to_sheet(dataForExcel);\r\n        const columnWidths = [\r\n            { wch: 20 }, { wch: 25 }, { wch: 15 }, { wch: 12 },\r\n            { wch: 15 }, { wch: 50 }, { wch: 15 }, { wch: 20 }, { wch: 20 }\r\n        ];\r\n        worksheet['!cols'] = columnWidths;\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, \"Sales Report\");\r\n        const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n        const dataBlob = new Blob([excelBuffer], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\" });\r\n        saveAs(dataBlob, `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.xlsx`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"sales-report-panel\">\r\n            <h2>·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã</h2>\r\n            <div className=\"report-controls\">\r\n                <button\r\n                    onClick={() => setReportType('daily')}\r\n                    className={reportType === 'daily' ? 'active' : ''}\r\n                >·ûî·üí·ûö·ûÖ·û∂·üÜ·ûê·üí·ûÑ·üÉ</button>\r\n                {reportType === 'daily' && (\r\n                    <input\r\n                        type=\"date\"\r\n                        value={filterDate}\r\n                        onChange={(e) => setFilterDate(e.target.value)}\r\n                        style={{padding: '7px', borderRadius:'5px', border: '1px solid var(--border-color)'}}\r\n                    />\r\n                )}\r\n                <button\r\n                    onClick={() => setReportType('monthly')}\r\n                    className={reportType === 'monthly' ? 'active' : ''}\r\n                >·ûî·üí·ûö·ûÖ·û∂·üÜ·ûÅ·üÇ</button>\r\n                {reportType === 'monthly' && (\r\n                     <input\r\n                        type=\"month\"\r\n                        value={filterMonth}\r\n                        onChange={(e) => setFilterMonth(e.target.value)}\r\n                        style={{padding: '7px', borderRadius:'5px', border: '1px solid var(--border-color)'}}\r\n                    />\r\n                )}\r\n                 <button\r\n                    onClick={() => setReportType('all')}\r\n                    className={reportType === 'all' ? 'active' : ''}\r\n                >·ûë·û∂·üÜ·ûÑ·û¢·ûü·üã</button>\r\n            </div>\r\n\r\n            <div className=\"report-actions\">\r\n                <button onClick={handlePrintReport} disabled={salesData.orders.length === 0}>\r\n                    <span role=\"img\" aria-label=\"print\">üñ®Ô∏è</span> ·ûî·üÑ·üá·ûñ·ûª·ûò·üí·ûñ·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç\r\n                </button>\r\n                <button onClick={handleDownloadCSV} disabled={salesData.orders.length === 0}>\r\n                    <span role=\"img\" aria-label=\"download\">üíæ</span> ·ûë·û∂·ûâ·ûô·ûÄ·ûá·û∂ CSV\r\n                </button>\r\n                <button onClick={handleExportToExcel} disabled={!salesData || salesData.orders.length === 0}>\r\n                    <span role=\"img\" aria-label=\"excel\">üìÑ</span> ·ûë·û∂·ûâ·ûô·ûÄ·ûá·û∂ Excel\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"report-section\" id=\"salesReportPrintSection\">\r\n                <h3>{getReportTitle()}</h3>\r\n                <p>·ûÖ·üÜ·ûì·ûΩ·ûì·ûü·ûö·ûª·ûî·ûì·üÉ·ûÄ·û∂·ûö·ûî·ûâ·üí·ûá·û∂·ûë·û∑·ûâ: {salesData.count}</p>\r\n                <p style={{fontWeight: 'bold', marginTop: '10px', color: 'var(--primary-color)'}}>\r\n                    ·ûî·üí·ûö·û∂·ûÄ·üã·ûÖ·üÜ·ûé·ûº·ûõ·ûü·ûö·ûª·ûî (USD): {USD_SYMBOL}{formatUSD(salesData.grandTotalUSD)}\r\n                </p>\r\n\r\n                {salesData.orders.length > 0 ? (\r\n                    <table className=\"report-data-table\">\r\n                        <thead>\r\n                            <tr>{/*Ensure no leading/trailing whitespace inside this tr before first th or after last th*/}\r\n                                <th>ID ·ûî·ûÑ·üí·û†·û∂·ûâ</th>\r\n                                {/* <th>Firestore ID</th> */}\r\n                                <th>·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë</th>\r\n                                <th>·ûò·üâ·üÑ·ûÑ</th>\r\n                                <th className=\"number-cell\">·ûÖ·üÜ·ûì·ûΩ·ûì·ûò·ûª·ûÅ</th>\r\n                                <th className=\"number-cell\">·ûü·ûö·ûª·ûî (USD)</th>\r\n                                <th className=\"number-cell\">·ûü·ûö·ûª·ûî (KHR @·ûë·û∑·ûâ)</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {salesData.orders.map(order => {\r\n                                const orderDate = new Date(order.date || new Date());\r\n                                const itemsCount = Array.isArray(order.items) ? order.items.reduce((sum, item) => sum + (item.quantity || 0), 0) : 0;\r\n                                const khrAtPurchase = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate);\r\n                                return (\r\n                                    <tr key={order.firestoreId || order.orderIdString}>{/*Ensure no leading/trailing whitespace inside this tr*/}\r\n                                        <td>{order.orderIdString || 'N/A'}</td>\r\n                                        {/* <td>{order.firestoreId || 'N/A'}</td> */}\r\n                                        <td>{orderDate.toLocaleDateString('km-KH')}</td>\r\n                                        <td>{orderDate.toLocaleTimeString('km-KH')}</td>\r\n                                        <td className=\"number-cell\">{itemsCount}</td>\r\n                                        <td className=\"number-cell\">{formatUSD(order.totalUSD || 0)}</td>\r\n                                        <td className=\"number-cell\">{formatKHR(khrAtPurchase)}</td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>{/*Ensure no leading/trailing whitespace inside this tr*/}\r\n                                <td colSpan=\"3\" style={{textAlign: 'right', fontWeight: 'bold'}}>·ûü·ûö·ûª·ûî:</td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>\r\n                                    {salesData.orders.reduce((acc, currOrder) => {\r\n                                        const currentItemsCount = Array.isArray(currOrder.items) ? currOrder.items.reduce((s, i) => s + (i.quantity || 0), 0) : 0;\r\n                                        return acc + currentItemsCount;\r\n                                    }, 0)}\r\n                                </td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>{formatUSD(salesData.grandTotalUSD)}</td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>\r\n                                     {KHR_SYMBOL}\r\n                                     {formatKHR(\r\n                                        salesData.orders.reduce((sum, order) => {\r\n                                            const khrValue = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate);\r\n                                            return sum + khrValue;\r\n                                        },0)\r\n                                     )}\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                ) : (\r\n                    <p>·ûò·û∑·ûì·ûë·û∂·ûì·üã·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûõ·ûÄ·üã·ûü·ûò·üí·ûö·û∂·ûî·üã·ûè·ûò·üí·ûö·ûÑ·ûì·üÅ·üá·ûë·üÅ·üî</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SalesReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}