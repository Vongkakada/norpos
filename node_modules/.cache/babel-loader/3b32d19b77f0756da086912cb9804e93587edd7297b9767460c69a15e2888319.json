{"ast":null,"code":"// src/components/SalesReport.jsx\nimport React,{useState,useMemo,useEffect,useRef}from'react';import{USD_SYMBOL,KHR_SYMBOL,formatUSD,formatKHR}from'../utils/formatters';import*as XLSX from'xlsx';import{saveAs}from'file-saver';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SalesReport(_ref){let{allOrders,exchangeRate,onSoftDeleteOrder}=_ref;// VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\n// DECLARE MISSING STATE VARIABLES HERE\n// VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\nconst[reportType,setReportType]=useState('daily');const[filterDate,setFilterDate]=useState(new Date().toISOString().split('T')[0]);const[filterMonth,setFilterMonth]=useState(new Date().toISOString().slice(0,7));const[showDeleted,setShowDeleted]=useState(false);const[deleteTarget,setDeleteTarget]=useState(null);const[deleteReason,setDeleteReason]=useState(\"\");const reasonInputRef=useRef(null);// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n// END OF MISSING STATE VARIABLE DECLARATIONS\n// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nconst salesData=useMemo(()=>{if(!allOrders||allOrders.length===0){return{grandTotalUSD:0,count:0,orders:[]};}let processedOrders=allOrders;if(!showDeleted){processedOrders=allOrders.filter(order=>!order.isDeleted);}let filteredOrders=[];if(reportType==='daily'){// Now reportType is defined\nfilteredOrders=processedOrders.filter(order=>order.date&&order.date.startsWith(filterDate));// filterDate is defined\n}else if(reportType==='monthly'){// reportType is defined\nfilteredOrders=processedOrders.filter(order=>order.date&&order.date.startsWith(filterMonth));// filterMonth is defined\n}else if(reportType==='all'){// reportType is defined\nfilteredOrders=processedOrders;}const grandTotalUSD=filteredOrders.reduce((sum,order)=>sum+(order.totalUSD||0),0);const count=filteredOrders.length;let displayOrders=[];if(reportType==='daily'){// reportType is defined\ndisplayOrders=allOrders.filter(order=>order.date&&order.date.startsWith(filterDate));// filterDate is defined\n}else if(reportType==='monthly'){// reportType is defined\ndisplayOrders=allOrders.filter(order=>order.date&&order.date.startsWith(filterMonth));// filterMonth is defined\n}else if(reportType==='all'){// reportType is defined\ndisplayOrders=allOrders;}if(!showDeleted){displayOrders=displayOrders.filter(order=>!order.isDeleted);}return{grandTotalUSD,count,orders:displayOrders};},[allOrders,reportType,filterDate,filterMonth,showDeleted]);// Dependencies are now defined\nconst getReportTitle=()=>{// This function should now be defined\nif(reportType==='daily')return\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u1790\\u17D2\\u1784\\u17C3\\u1791\\u17B8 \".concat(new Date(filterDate+'T00:00:00').toLocaleDateString('km-KH',{day:'2-digit',month:'long',year:'numeric'}));if(reportType==='monthly')return\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u1781\\u17C2 \".concat(new Date(filterMonth+'-01T00:00:00').toLocaleDateString('km-KH',{month:'long',year:'numeric'}));return'·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã·ûü·ûö·ûª·ûî';};const handlePrintReport=()=>{// This function should now be defined\nconst reportPanel=document.querySelector('.sales-report-panel');const appContainer=document.querySelector('.pos-container.report-view-container');if(reportPanel&&appContainer){appContainer.classList.add('printing-sales-report');reportPanel.classList.add('print-this-report');window.print();reportPanel.classList.remove('print-this-report');appContainer.classList.remove('printing-sales-report');}else{console.error(\"Report panel or app container not found for printing.\");}};// ... (handleDownloadCSV and handleExportToExcel should be fine as they use salesData and defined states) ...\nconst handleDownloadCSV=()=>{if(salesData.orders.length===0){alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã·ûë·û∂·ûâ·ûô·ûÄ·üî\");return;}let csvContent=\"data:text/csv;charset=utf-8,\";csvContent+=\"Order ID (Display),Firestore ID,Date,Time,Items Count,Total USD,Total KHR (at Purchase),Exchange Rate (at Purchase),Is Deleted,Delete Reason\\r\\n\";salesData.orders.forEach(order=>{const orderDate=new Date(order.date);const dateStr=orderDate.toLocaleDateString('en-CA');const timeStr=orderDate.toLocaleTimeString('en-GB');const itemsCount=Array.isArray(order.items)?order.items.reduce((sum,item)=>sum+(item.quantity||0),0):0;const totalKHRatPurchase=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);csvContent+=\"\".concat(order.orderIdString||'N/A',\",\").concat(order.firestoreId||'N/A',\",\").concat(dateStr,\",\").concat(timeStr,\",\").concat(itemsCount,\",\").concat(formatUSD(order.totalUSD||0),\",\").concat(formatKHR(totalKHRatPurchase),\",\").concat(order.exchangeRateAtPurchase||'N/A',\",\").concat(order.isDeleted?'Yes':'No',\",\\\"\").concat((order.deleteReason||'').replace(/\"/g,'\"\"'),\"\\\"\\r\\n\");});const encodedUri=encodeURI(csvContent);const link=document.createElement(\"a\");link.setAttribute(\"href\",encodedUri);link.setAttribute(\"download\",\"sales_report_\".concat(reportType,\"_\").concat(new Date().toISOString().split('T')[0],\".csv\"));// reportType is defined\ndocument.body.appendChild(link);link.click();document.body.removeChild(link);};const handleExportToExcel=()=>{if(salesData.orders.length===0){alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã Export ·ûë·üÅ·üî\");return;}const dataForExcel=salesData.orders.map(order=>{const orderDate=new Date(order.date);const itemsCount=Array.isArray(order.items)?order.items.reduce((sum,item)=>sum+(item.quantity||0),0):0;const itemsString=Array.isArray(order.items)?order.items.map(i=>\"\".concat(i.khmerName||'',\" (x\").concat(i.quantity||0,\")\")).join(', '):'';const totalKHRatPurchase=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);return{'·ûõ·üÅ·ûÅ·ûú·û∑·ûÄ·üí·ûÄ·ûô·ûî·ûè·üí·ûö (Display)':order.orderIdString||'N/A','Firestore ID':order.firestoreId||'N/A','·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë':orderDate.toLocaleDateString('km-KH'),'·ûò·üâ·üÑ·ûÑ':orderDate.toLocaleTimeString('km-KH'),'·ûò·ûª·ûÅ·ûë·üÜ·ûì·û∑·ûâ·ûü·ûö·ûª·ûî':itemsCount,'·ûî·ûâ·üí·ûá·û∏·ûï·ûõ·û∑·ûè·ûï·ûõ':itemsString,'·ûü·ûö·ûª·ûî (USD)':order.totalUSD||0,'·ûü·ûö·ûª·ûî (KHR @·ûë·û∑·ûâ)':totalKHRatPurchase,'·û¢·ûè·üí·ûö·û∂·ûî·üí·ûè·ûº·ûö·ûî·üí·ûö·û∂·ûÄ·üã (@·ûë·û∑·ûâ)':order.exchangeRateAtPurchase||'N/A','·ûî·û∂·ûì·ûõ·ûª·ûî':order.isDeleted?'·ûî·û∂·ûë':'·ûë·üÅ','·ûò·ûº·ûõ·û†·üÅ·ûè·ûª·ûõ·ûª·ûî':order.deleteReason||''};});const worksheet=XLSX.utils.json_to_sheet(dataForExcel);const columnWidths=[{wch:20},{wch:25},{wch:15},{wch:12},{wch:15},{wch:50},{wch:15},{wch:20},{wch:20},{wch:10},{wch:30}];worksheet['!cols']=columnWidths;const workbook=XLSX.utils.book_new();XLSX.utils.book_append_sheet(workbook,worksheet,\"Sales Report\");const excelBuffer=XLSX.write(workbook,{bookType:'xlsx',type:'array'});const dataBlob=new Blob([excelBuffer],{type:\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\"});saveAs(dataBlob,\"sales_report_\".concat(reportType,\"_\").concat(new Date().toISOString().split('T')[0],\".xlsx\"));// reportType is defined\n};const openDeleteModal=(order,event)=>{event.preventDefault();if(order.isDeleted)return;setDeleteTarget({orderId:order.firestoreId,displayId:order.orderIdString||order.firestoreId.substring(0,6)+\"...\"});setDeleteReason(\"\");setTimeout(()=>{var _reasonInputRef$curre;return(_reasonInputRef$curre=reasonInputRef.current)===null||_reasonInputRef$curre===void 0?void 0:_reasonInputRef$curre.focus();},0);};const closeDeleteModal=()=>{setDeleteTarget(null);setDeleteReason(\"\");};const confirmSoftDelete=()=>{if(!deleteTarget)return;if(deleteReason.trim()===\"\"){var _reasonInputRef$curre2;alert(\"·ûü·ûº·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûò·ûº·ûõ·û†·üÅ·ûè·ûª·ûü·ûò·üí·ûö·û∂·ûî·üã·ûÄ·û∂·ûö·ûõ·ûª·ûî·üî\");(_reasonInputRef$curre2=reasonInputRef.current)===null||_reasonInputRef$curre2===void 0?void 0:_reasonInputRef$curre2.focus();return;}onSoftDeleteOrder(deleteTarget.orderId,deleteReason);closeDeleteModal();};return/*#__PURE__*/_jsxs(\"div\",{className:\"sales-report-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u179B\\u1780\\u17CB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportType('daily')// setReportType is defined\n,className:reportType==='daily'?'active':''// reportType is defined\n,children:\"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1790\\u17D2\\u1784\\u17C3\"}),reportType==='daily'&&/*#__PURE__*/// reportType is defined\n_jsx(\"input\",{type:\"date\",value:filterDate// filterDate is defined\n,onChange:e=>setFilterDate(e.target.value)// setFilterDate is defined\n,style:{padding:'7px',borderRadius:'5px',border:'1px solid var(--border-color)'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportType('monthly')// setReportType is defined\n,className:reportType==='monthly'?'active':''// reportType is defined\n,children:\"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1781\\u17C2\"}),reportType==='monthly'&&/*#__PURE__*/// reportType is defined\n_jsx(\"input\",{type:\"month\",value:filterMonth// filterMonth is defined\n,onChange:e=>setFilterMonth(e.target.value)// setFilterMonth is defined\n,style:{padding:'7px',borderRadius:'5px',border:'1px solid var(--border-color)'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportType('all')// setReportType is defined\n,className:reportType==='all'?'active':''// reportType is defined\n,children:\"\\u1791\\u17B6\\u17C6\\u1784\\u17A2\\u179F\\u17CB\"}),/*#__PURE__*/_jsxs(\"label\",{style:{marginLeft:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showDeleted,onChange:e=>setShowDeleted(e.target.checked)}),\"\\u1794\\u1784\\u17D2\\u17A0\\u17B6\\u1789\\u1794\\u1789\\u17D2\\u1787\\u17B8\\u178A\\u17C2\\u179B\\u1794\\u17B6\\u1793\\u179B\\u17BB\\u1794\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handlePrintReport,disabled:salesData.orders.length===0&&!showDeleted,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"print\",children:\"\\uD83D\\uDDA8\\uFE0F\"}),\" \\u1794\\u17C4\\u17C7\\u1796\\u17BB\\u1798\\u17D2\\u1796\"]}),\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadCSV,disabled:salesData.orders.length===0&&!showDeleted,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"download\",children:\"\\uD83D\\uDCBE\"}),\" CSV\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExportToExcel,disabled:!salesData||salesData.orders.length===0&&!showDeleted,children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"excel\",children:\"\\uD83D\\uDCC4\"}),\" Excel\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-section\",id:\"salesReportPrintSection\",children:[/*#__PURE__*/_jsx(\"h3\",{children:getReportTitle()}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u1794\\u1789\\u17D2\\u1787\\u17B6\\u1791\\u17B7\\u1789\",showDeleted?\"\":\" (·ûò·û∑·ûì·ûö·ûΩ·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûî·û∂·ûì·ûõ·ûª·ûî)\",\": \",salesData.count]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontWeight:'bold',marginTop:'10px',color:'var(--primary-color)'},children:[\"\\u1794\\u17D2\\u179A\\u17B6\\u1780\\u17CB\\u1785\\u17C6\\u178E\\u17BC\\u179B\\u179F\\u179A\\u17BB\\u1794 (USD)\",showDeleted?\"\":\" (·ûò·û∑·ûì·ûö·ûΩ·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûî·û∂·ûì·ûõ·ûª·ûî)\",\": \",USD_SYMBOL,formatUSD(salesData.grandTotalUSD)]}),salesData.orders.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"report-data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID \\u1794\\u1784\\u17D2\\u17A0\\u17B6\\u1789\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u1798\\u17C9\\u17C4\\u1784\"}),/*#__PURE__*/_jsx(\"th\",{className:\"number-cell\",children:\"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u1798\\u17BB\\u1781\"}),/*#__PURE__*/_jsx(\"th\",{className:\"number-cell\",children:\"\\u179F\\u179A\\u17BB\\u1794 (USD)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"number-cell\",children:\"\\u179F\\u179A\\u17BB\\u1794 (KHR @\\u1791\\u17B7\\u1789)\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'120px'},children:\"\\u179F\\u1780\\u1798\\u17D2\\u1798\\u1797\\u17B6\\u1796\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:salesData.orders.map(order=>{const orderDate=new Date(order.date||new Date());const itemsCount=Array.isArray(order.items)?order.items.reduce((sum,item)=>sum+(item.quantity||0),0):0;const khrAtPurchase=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);const rowClass=order.isDeleted?'deleted-row':'';return/*#__PURE__*/_jsxs(\"tr\",{className:rowClass,onContextMenu:e=>openDeleteModal(order,e),children:[/*#__PURE__*/_jsx(\"td\",{children:order.orderIdString||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:orderDate.toLocaleDateString('km-KH')}),/*#__PURE__*/_jsx(\"td\",{children:orderDate.toLocaleTimeString('km-KH')}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",children:itemsCount}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",children:formatUSD(order.totalUSD||0)}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",children:formatKHR(khrAtPurchase)}),/*#__PURE__*/_jsxs(\"td\",{className:\"actions-cell\",children:[!order.isDeleted&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-delete-order\",onClick:e=>openDeleteModal(order,e),title:\"\\u179F\\u1798\\u17D2\\u1782\\u17B6\\u179B\\u17CB\\u1790\\u17B6\\u179B\\u17BB\\u1794\",children:\"\\uD83D\\uDDD1\\uFE0F \\u179B\\u17BB\\u1794\"}),order.isDeleted&&/*#__PURE__*/_jsxs(\"div\",{className:\"status-deleted\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"(\\u1794\\u17B6\\u1793\\u179B\\u17BB\\u1794)\"}),order.deleteReason&&/*#__PURE__*/_jsxs(\"p\",{className:\"delete-reason-display\",children:[\"\\u1798\\u17BC\\u179B\\u17A0\\u17C1\\u178F\\u17BB: \",order.deleteReason]})]})]})]},order.firestoreId||order.orderIdString);})}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{colSpan:\"3\",style:{textAlign:'right',fontWeight:'bold'},children:[\"\\u179F\\u179A\\u17BB\\u1794 (\",showDeleted?\"·ûö·ûΩ·ûò·ûë·û∂·üÜ·ûÑ·ûî·û∂·ûì·ûõ·ûª·ûî\":\"·ûò·û∑·ûì·ûö·ûΩ·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûî·û∂·ûì·ûõ·ûª·ûî\",\"):\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",style:{fontWeight:'bold'},children:salesData.orders.reduce((acc,currOrder)=>{const currentItemsCount=Array.isArray(currOrder.items)?currOrder.items.reduce((s,i)=>s+(i.quantity||0),0):0;return acc+currentItemsCount;},0)}),/*#__PURE__*/_jsx(\"td\",{className:\"number-cell\",style:{fontWeight:'bold'},children:formatUSD(salesData.grandTotalUSD)}),/*#__PURE__*/_jsxs(\"td\",{className:\"number-cell\",style:{fontWeight:'bold'},children:[KHR_SYMBOL,formatKHR(salesData.orders.reduce((sum,order)=>{const khrValue=(order.totalUSD||0)*(order.exchangeRateAtPurchase||exchangeRate);return sum+khrValue;},0))]}),/*#__PURE__*/_jsx(\"td\",{})]})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"\\u1798\\u17B7\\u1793\\u1791\\u17B6\\u1793\\u17CB\\u1798\\u17B6\\u1793\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u179B\\u1780\\u17CB\\u179F\\u1798\\u17D2\\u179A\\u17B6\\u1794\\u17CB\\u178F\\u1798\\u17D2\\u179A\\u1784\\u1793\\u17C1\\u17C7\\u1791\\u17C1\\u17D4\"})]}),deleteTarget&&/*#__PURE__*/_jsx(\"div\",{className:\"modal show delete-reason-modal\",onClick:closeDeleteModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"span\",{className:\"close-button\",onClick:closeDeleteModal,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u179F\\u1798\\u17D2\\u1782\\u17B6\\u179B\\u17CB Order #\",deleteTarget.displayId,\" \\u1790\\u17B6\\u179B\\u17BB\\u1794\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u179F\\u17BC\\u1798\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B\\u1798\\u17BC\\u179B\\u17A0\\u17C1\\u178F\\u17BB\\u179F\\u1798\\u17D2\\u179A\\u17B6\\u1794\\u17CB\\u1780\\u17B6\\u179A\\u179B\\u17BB\\u1794 (\\u1787\\u17B6\\u1787\\u1798\\u17D2\\u179A\\u17BE\\u179F \\u1794\\u17C9\\u17BB\\u1793\\u17D2\\u178F\\u17C2\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1794\\u17B6\\u1793\\u178E\\u17C2\\u1793\\u17B6\\u17C6):\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:reasonInputRef,rows:\"3\",value:deleteReason,onChange:e=>setDeleteReason(e.target.value),placeholder:\"\\u17A7. \\u17A2\\u178F\\u17B7\\u1790\\u17B7\\u1787\\u1793\\u1794\\u17D2\\u178F\\u17BC\\u179A\\u1785\\u17B7\\u178F\\u17D2\\u178F, \\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B\\u1781\\u17BB\\u179F...\",style:{width:'95%',marginBottom:'15px',padding:'8px',border:'1px solid #ccc',borderRadius:'4px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeDeleteModal,style:{marginRight:'10px',padding:'8px 15px',background:'#ccc'},children:\"\\u1794\\u17C4\\u17C7\\u1794\\u1784\\u17CB\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmSoftDelete,style:{padding:'8px 15px',background:'var(--accent-color)',color:'white'},children:\"\\u1794\\u1789\\u17D2\\u1787\\u17B6\\u1780\\u17CB\\u1780\\u17B6\\u179A\\u179B\\u17BB\\u1794\"})]})]})})]});}export default SalesReport;","map":{"version":3,"names":["React","useState","useMemo","useEffect","useRef","USD_SYMBOL","KHR_SYMBOL","formatUSD","formatKHR","XLSX","saveAs","jsx","_jsx","jsxs","_jsxs","SalesReport","_ref","allOrders","exchangeRate","onSoftDeleteOrder","reportType","setReportType","filterDate","setFilterDate","Date","toISOString","split","filterMonth","setFilterMonth","slice","showDeleted","setShowDeleted","deleteTarget","setDeleteTarget","deleteReason","setDeleteReason","reasonInputRef","salesData","length","grandTotalUSD","count","orders","processedOrders","filter","order","isDeleted","filteredOrders","date","startsWith","reduce","sum","totalUSD","displayOrders","getReportTitle","concat","toLocaleDateString","day","month","year","handlePrintReport","reportPanel","document","querySelector","appContainer","classList","add","window","print","remove","console","error","handleDownloadCSV","alert","csvContent","forEach","orderDate","dateStr","timeStr","toLocaleTimeString","itemsCount","Array","isArray","items","item","quantity","totalKHRatPurchase","exchangeRateAtPurchase","orderIdString","firestoreId","replace","encodedUri","encodeURI","link","createElement","setAttribute","body","appendChild","click","removeChild","handleExportToExcel","dataForExcel","map","itemsString","i","khmerName","join","worksheet","utils","json_to_sheet","columnWidths","wch","workbook","book_new","book_append_sheet","excelBuffer","write","bookType","type","dataBlob","Blob","openDeleteModal","event","preventDefault","orderId","displayId","substring","setTimeout","_reasonInputRef$curre","current","focus","closeDeleteModal","confirmSoftDelete","trim","_reasonInputRef$curre2","className","children","onClick","value","onChange","e","target","style","padding","borderRadius","border","marginLeft","checked","disabled","role","id","fontWeight","marginTop","color","width","khrAtPurchase","rowClass","onContextMenu","title","colSpan","textAlign","acc","currOrder","currentItemsCount","s","khrValue","stopPropagation","ref","rows","placeholder","marginBottom","marginRight","background"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/SalesReport.jsx"],"sourcesContent":["// src/components/SalesReport.jsx\r\nimport React, { useState, useMemo, useEffect, useRef } from 'react';\r\nimport { USD_SYMBOL, KHR_SYMBOL, formatUSD, formatKHR } from '../utils/formatters';\r\nimport * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\n\r\nfunction SalesReport({ allOrders, exchangeRate, onSoftDeleteOrder }) {\r\n    // VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\r\n    // DECLARE MISSING STATE VARIABLES HERE\r\n    // VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\r\n    const [reportType, setReportType] = useState('daily');\r\n    const [filterDate, setFilterDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\r\n    const [showDeleted, setShowDeleted] = useState(false);\r\n    const [deleteTarget, setDeleteTarget] = useState(null);\r\n    const [deleteReason, setDeleteReason] = useState(\"\");\r\n    const reasonInputRef = useRef(null);\r\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    // END OF MISSING STATE VARIABLE DECLARATIONS\r\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n\r\n    const salesData = useMemo(() => {\r\n        if (!allOrders || allOrders.length === 0) {\r\n            return { grandTotalUSD: 0, count: 0, orders: [] };\r\n        }\r\n\r\n        let processedOrders = allOrders;\r\n        if (!showDeleted) {\r\n            processedOrders = allOrders.filter(order => !order.isDeleted);\r\n        }\r\n\r\n        let filteredOrders = [];\r\n        if (reportType === 'daily') { // Now reportType is defined\r\n            filteredOrders = processedOrders.filter(order => order.date && order.date.startsWith(filterDate)); // filterDate is defined\r\n        } else if (reportType === 'monthly') { // reportType is defined\r\n            filteredOrders = processedOrders.filter(order => order.date && order.date.startsWith(filterMonth)); // filterMonth is defined\r\n        } else if (reportType === 'all') { // reportType is defined\r\n            filteredOrders = processedOrders;\r\n        }\r\n\r\n        const grandTotalUSD = filteredOrders.reduce((sum, order) => sum + (order.totalUSD || 0), 0);\r\n        const count = filteredOrders.length;\r\n\r\n        let displayOrders = [];\r\n         if (reportType === 'daily') { // reportType is defined\r\n            displayOrders = allOrders.filter(order => order.date && order.date.startsWith(filterDate)); // filterDate is defined\r\n        } else if (reportType === 'monthly') { // reportType is defined\r\n            displayOrders = allOrders.filter(order => order.date && order.date.startsWith(filterMonth)); // filterMonth is defined\r\n        } else if (reportType === 'all') { // reportType is defined\r\n            displayOrders = allOrders;\r\n        }\r\n        if (!showDeleted) {\r\n            displayOrders = displayOrders.filter(order => !order.isDeleted);\r\n        }\r\n\r\n        return {\r\n            grandTotalUSD,\r\n            count,\r\n            orders: displayOrders,\r\n        };\r\n    }, [allOrders, reportType, filterDate, filterMonth, showDeleted]); // Dependencies are now defined\r\n\r\n    const getReportTitle = () => { // This function should now be defined\r\n        if (reportType === 'daily') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûê·üí·ûÑ·üÉ·ûë·û∏ ${new Date(filterDate + 'T00:00:00').toLocaleDateString('km-KH', { day: '2-digit', month: 'long', year: 'numeric' })}`;\r\n        if (reportType === 'monthly') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûÅ·üÇ ${new Date(filterMonth + '-01T00:00:00').toLocaleDateString('km-KH', { month: 'long', year: 'numeric' })}`;\r\n        return '·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã·ûü·ûö·ûª·ûî';\r\n    };\r\n\r\n    const handlePrintReport = () => { // This function should now be defined\r\n        const reportPanel = document.querySelector('.sales-report-panel');\r\n        const appContainer = document.querySelector('.pos-container.report-view-container');\r\n\r\n        if (reportPanel && appContainer) {\r\n            appContainer.classList.add('printing-sales-report');\r\n            reportPanel.classList.add('print-this-report');\r\n            window.print();\r\n            reportPanel.classList.remove('print-this-report');\r\n            appContainer.classList.remove('printing-sales-report');\r\n        } else {\r\n            console.error(\"Report panel or app container not found for printing.\");\r\n        }\r\n    };\r\n\r\n    // ... (handleDownloadCSV and handleExportToExcel should be fine as they use salesData and defined states) ...\r\n    const handleDownloadCSV = () => {\r\n        if (salesData.orders.length === 0) { alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã·ûë·û∂·ûâ·ûô·ûÄ·üî\"); return; }\r\n        let csvContent = \"data:text/csv;charset=utf-8,\";\r\n        csvContent += \"Order ID (Display),Firestore ID,Date,Time,Items Count,Total USD,Total KHR (at Purchase),Exchange Rate (at Purchase),Is Deleted,Delete Reason\\r\\n\";\r\n        salesData.orders.forEach(order => {\r\n            const orderDate = new Date(order.date);\r\n            const dateStr = orderDate.toLocaleDateString('en-CA');\r\n            const timeStr = orderDate.toLocaleTimeString('en-GB');\r\n            const itemsCount = Array.isArray(order.items) ? order.items.reduce((sum, item) => sum + (item.quantity || 0), 0) : 0;\r\n            const totalKHRatPurchase = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate);\r\n            csvContent += `${order.orderIdString || 'N/A'},${order.firestoreId || 'N/A'},${dateStr},${timeStr},${itemsCount},${formatUSD(order.totalUSD || 0)},${formatKHR(totalKHRatPurchase)},${order.exchangeRateAtPurchase || 'N/A'},${order.isDeleted ? 'Yes' : 'No'},\"${(order.deleteReason || '').replace(/\"/g, '\"\"')}\"\\r\\n`;\r\n        });\r\n        const encodedUri = encodeURI(csvContent);\r\n        const link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        link.setAttribute(\"download\", `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.csv`); // reportType is defined\r\n        document.body.appendChild(link); link.click(); document.body.removeChild(link);\r\n    };\r\n\r\n    const handleExportToExcel = () => {\r\n        if (salesData.orders.length === 0) { alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã Export ·ûë·üÅ·üî\"); return; }\r\n        const dataForExcel = salesData.orders.map(order => {\r\n            const orderDate = new Date(order.date);\r\n            const itemsCount = Array.isArray(order.items) ? order.items.reduce((sum, item) => sum + (item.quantity || 0), 0) : 0;\r\n            const itemsString = Array.isArray(order.items) ? order.items.map(i => `${i.khmerName || ''} (x${i.quantity || 0})`).join(', ') : '';\r\n            const totalKHRatPurchase = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate);\r\n            return {\r\n                '·ûõ·üÅ·ûÅ·ûú·û∑·ûÄ·üí·ûÄ·ûô·ûî·ûè·üí·ûö (Display)': order.orderIdString || 'N/A',\r\n                'Firestore ID': order.firestoreId || 'N/A',\r\n                '·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë': orderDate.toLocaleDateString('km-KH'),\r\n                '·ûò·üâ·üÑ·ûÑ': orderDate.toLocaleTimeString('km-KH'),\r\n                '·ûò·ûª·ûÅ·ûë·üÜ·ûì·û∑·ûâ·ûü·ûö·ûª·ûî': itemsCount,\r\n                '·ûî·ûâ·üí·ûá·û∏·ûï·ûõ·û∑·ûè·ûï·ûõ': itemsString,\r\n                '·ûü·ûö·ûª·ûî (USD)': order.totalUSD || 0,\r\n                '·ûü·ûö·ûª·ûî (KHR @·ûë·û∑·ûâ)': totalKHRatPurchase,\r\n                '·û¢·ûè·üí·ûö·û∂·ûî·üí·ûè·ûº·ûö·ûî·üí·ûö·û∂·ûÄ·üã (@·ûë·û∑·ûâ)': order.exchangeRateAtPurchase || 'N/A',\r\n                '·ûî·û∂·ûì·ûõ·ûª·ûî': order.isDeleted ? '·ûî·û∂·ûë' : '·ûë·üÅ',\r\n                '·ûò·ûº·ûõ·û†·üÅ·ûè·ûª·ûõ·ûª·ûî': order.deleteReason || ''\r\n            };\r\n        });\r\n        const worksheet = XLSX.utils.json_to_sheet(dataForExcel);\r\n        const columnWidths = [ { wch: 20 }, { wch: 25 }, { wch: 15 }, { wch: 12 }, { wch: 15 }, { wch: 50 }, { wch: 15 }, { wch: 20 }, { wch: 20 }, { wch: 10 }, {wch: 30} ];\r\n        worksheet['!cols'] = columnWidths;\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, \"Sales Report\");\r\n        const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n        const dataBlob = new Blob([excelBuffer], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\" });\r\n        saveAs(dataBlob, `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.xlsx`); // reportType is defined\r\n    };\r\n\r\n\r\n    const openDeleteModal = (order, event) => {\r\n        event.preventDefault();\r\n        if (order.isDeleted) return;\r\n        setDeleteTarget({\r\n            orderId: order.firestoreId,\r\n            displayId: order.orderIdString || order.firestoreId.substring(0,6) + \"...\",\r\n        });\r\n        setDeleteReason(\"\");\r\n        setTimeout(() => reasonInputRef.current?.focus(), 0);\r\n    };\r\n\r\n    const closeDeleteModal = () => {\r\n        setDeleteTarget(null);\r\n        setDeleteReason(\"\");\r\n    };\r\n\r\n    const confirmSoftDelete = () => {\r\n        if (!deleteTarget) return;\r\n        if (deleteReason.trim() === \"\") {\r\n            alert(\"·ûü·ûº·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûò·ûº·ûõ·û†·üÅ·ûè·ûª·ûü·ûò·üí·ûö·û∂·ûî·üã·ûÄ·û∂·ûö·ûõ·ûª·ûî·üî\");\r\n            reasonInputRef.current?.focus();\r\n            return;\r\n        }\r\n        onSoftDeleteOrder(deleteTarget.orderId, deleteReason);\r\n        closeDeleteModal();\r\n    };\r\n\r\n    return (\r\n        <div className=\"sales-report-panel\">\r\n            <h2>·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã</h2>\r\n            <div className=\"report-controls\">\r\n                <button\r\n                    onClick={() => setReportType('daily')} // setReportType is defined\r\n                    className={reportType === 'daily' ? 'active' : ''} // reportType is defined\r\n                >·ûî·üí·ûö·ûÖ·û∂·üÜ·ûê·üí·ûÑ·üÉ</button>\r\n                {reportType === 'daily' && ( // reportType is defined\r\n                    <input\r\n                        type=\"date\"\r\n                        value={filterDate} // filterDate is defined\r\n                        onChange={(e) => setFilterDate(e.target.value)} // setFilterDate is defined\r\n                        style={{padding: '7px', borderRadius:'5px', border: '1px solid var(--border-color)'}}\r\n                    />\r\n                )}\r\n                <button\r\n                    onClick={() => setReportType('monthly')} // setReportType is defined\r\n                    className={reportType === 'monthly' ? 'active' : ''} // reportType is defined\r\n                >·ûî·üí·ûö·ûÖ·û∂·üÜ·ûÅ·üÇ</button>\r\n                {reportType === 'monthly' && ( // reportType is defined\r\n                     <input\r\n                        type=\"month\"\r\n                        value={filterMonth} // filterMonth is defined\r\n                        onChange={(e) => setFilterMonth(e.target.value)} // setFilterMonth is defined\r\n                        style={{padding: '7px', borderRadius:'5px', border: '1px solid var(--border-color)'}}\r\n                    />\r\n                )}\r\n                 <button\r\n                    onClick={() => setReportType('all')} // setReportType is defined\r\n                    className={reportType === 'all' ? 'active' : ''} // reportType is defined\r\n                >·ûë·û∂·üÜ·ûÑ·û¢·ûü·üã</button>\r\n                <label style={{marginLeft: '20px'}}>\r\n                    <input type=\"checkbox\" checked={showDeleted} onChange={(e) => setShowDeleted(e.target.checked)}/>\r\n                    ·ûî·ûÑ·üí·û†·û∂·ûâ·ûî·ûâ·üí·ûá·û∏·ûä·üÇ·ûõ·ûî·û∂·ûì·ûõ·ûª·ûî\r\n                </label>\r\n            </div>\r\n            <div className=\"report-actions\">\r\n                <button onClick={handlePrintReport} disabled={salesData.orders.length === 0 && !showDeleted}><span role=\"img\" aria-label=\"print\">üñ®Ô∏è</span> ·ûî·üÑ·üá·ûñ·ûª·ûò·üí·ûñ</button> {/* handlePrintReport is defined */}\r\n                <button onClick={handleDownloadCSV} disabled={salesData.orders.length === 0 && !showDeleted}><span role=\"img\" aria-label=\"download\">üíæ</span> CSV</button>\r\n                <button onClick={handleExportToExcel} disabled={!salesData || salesData.orders.length === 0 && !showDeleted}><span role=\"img\" aria-label=\"excel\">üìÑ</span> Excel</button>\r\n            </div>\r\n\r\n            <div className=\"report-section\" id=\"salesReportPrintSection\">\r\n                <h3>{getReportTitle()}</h3> {/* getReportTitle is defined */}\r\n                {/* ... (rest of the JSX, table structure should be fine now) ... */}\r\n                <p>·ûÖ·üÜ·ûì·ûΩ·ûì·ûî·ûâ·üí·ûá·û∂·ûë·û∑·ûâ{showDeleted ? \"\" : \" (·ûò·û∑·ûì·ûö·ûΩ·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûî·û∂·ûì·ûõ·ûª·ûî)\"}: {salesData.count}</p>\r\n                <p style={{fontWeight: 'bold', marginTop: '10px', color: 'var(--primary-color)'}}>\r\n                    ·ûî·üí·ûö·û∂·ûÄ·üã·ûÖ·üÜ·ûé·ûº·ûõ·ûü·ûö·ûª·ûî (USD){showDeleted ? \"\" : \" (·ûò·û∑·ûì·ûö·ûΩ·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûî·û∂·ûì·ûõ·ûª·ûî)\"}: {USD_SYMBOL}{formatUSD(salesData.grandTotalUSD)}\r\n                </p>\r\n\r\n                {salesData.orders.length > 0 ? (\r\n                    <table className=\"report-data-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID ·ûî·ûÑ·üí·û†·û∂·ûâ</th>\r\n                                <th>·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë</th>\r\n                                <th>·ûò·üâ·üÑ·ûÑ</th>\r\n                                <th className=\"number-cell\">·ûÖ·üÜ·ûì·ûΩ·ûì·ûò·ûª·ûÅ</th>\r\n                                <th className=\"number-cell\">·ûü·ûö·ûª·ûî (USD)</th>\r\n                                <th className=\"number-cell\">·ûü·ûö·ûª·ûî (KHR @·ûë·û∑·ûâ)</th>\r\n                                <th style={{width: '120px'}}>·ûü·ûÄ·ûò·üí·ûò·ûó·û∂·ûñ</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {salesData.orders.map(order => {\r\n                                const orderDate = new Date(order.date || new Date());\r\n                                const itemsCount = Array.isArray(order.items) ? order.items.reduce((sum, item) => sum + (item.quantity || 0), 0) : 0;\r\n                                const khrAtPurchase = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate);\r\n                                const rowClass = order.isDeleted ? 'deleted-row' : '';\r\n\r\n                                return (\r\n                                    <tr\r\n                                        key={order.firestoreId || order.orderIdString}\r\n                                        className={rowClass}\r\n                                        onContextMenu={(e) => openDeleteModal(order, e)}\r\n                                    >\r\n                                        <td>{order.orderIdString || 'N/A'}</td>\r\n                                        <td>{orderDate.toLocaleDateString('km-KH')}</td>\r\n                                        <td>{orderDate.toLocaleTimeString('km-KH')}</td>\r\n                                        <td className=\"number-cell\">{itemsCount}</td>\r\n                                        <td className=\"number-cell\">{formatUSD(order.totalUSD || 0)}</td>\r\n                                        <td className=\"number-cell\">{formatKHR(khrAtPurchase)}</td>\r\n                                        <td className=\"actions-cell\">\r\n                                            {!order.isDeleted && (\r\n                                                <button\r\n                                                    className=\"btn-delete-order\"\r\n                                                    onClick={(e) => openDeleteModal(order, e)}\r\n                                                    title=\"·ûü·ûò·üí·ûÇ·û∂·ûõ·üã·ûê·û∂·ûõ·ûª·ûî\"\r\n                                                >\r\n                                                    üóëÔ∏è ·ûõ·ûª·ûî\r\n                                                </button>\r\n                                            )}\r\n                                            {order.isDeleted && (\r\n                                                 <div className=\"status-deleted\">\r\n                                                    <p>(·ûî·û∂·ûì·ûõ·ûª·ûî)</p>\r\n                                                    {order.deleteReason && <p className=\"delete-reason-display\">·ûò·ûº·ûõ·û†·üÅ·ûè·ûª: {order.deleteReason}</p>}\r\n                                                 </div>\r\n                                            )}\r\n                                        </td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <td colSpan=\"3\" style={{textAlign: 'right', fontWeight: 'bold'}}>·ûü·ûö·ûª·ûî ({showDeleted ? \"·ûö·ûΩ·ûò·ûë·û∂·üÜ·ûÑ·ûî·û∂·ûì·ûõ·ûª·ûî\" : \"·ûò·û∑·ûì·ûö·ûΩ·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûî·û∂·ûì·ûõ·ûª·ûî\"}):</td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>\r\n                                    {salesData.orders.reduce((acc, currOrder) => {\r\n                                        const currentItemsCount = Array.isArray(currOrder.items) ? currOrder.items.reduce((s, i) => s + (i.quantity || 0), 0) : 0;\r\n                                        return acc + currentItemsCount;\r\n                                    }, 0)}\r\n                                </td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>{formatUSD(salesData.grandTotalUSD)}</td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>\r\n                                     {KHR_SYMBOL}\r\n                                     {formatKHR(salesData.orders.reduce((sum, order) => {const khrValue = (order.totalUSD || 0) * (order.exchangeRateAtPurchase || exchangeRate); return sum + khrValue;},0))}\r\n                                </td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                ) : (\r\n                    <p>·ûò·û∑·ûì·ûë·û∂·ûì·üã·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûõ·ûÄ·üã·ûü·ûò·üí·ûö·û∂·ûî·üã·ûè·ûò·üí·ûö·ûÑ·ûì·üÅ·üá·ûë·üÅ·üî</p>\r\n                )}\r\n            </div>\r\n\r\n            {deleteTarget && (\r\n                <div className=\"modal show delete-reason-modal\" onClick={closeDeleteModal}>\r\n                    <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n                        <span className=\"close-button\" onClick={closeDeleteModal}>√ó</span>\r\n                        <h4>·ûü·ûò·üí·ûÇ·û∂·ûõ·üã Order #{deleteTarget.displayId} ·ûê·û∂·ûõ·ûª·ûî</h4>\r\n                        <p>·ûü·ûº·ûò·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûò·ûº·ûõ·û†·üÅ·ûè·ûª·ûü·ûò·üí·ûö·û∂·ûî·üã·ûÄ·û∂·ûö·ûõ·ûª·ûî (·ûá·û∂·ûá·ûò·üí·ûö·ûæ·ûü ·ûî·üâ·ûª·ûì·üí·ûè·üÇ·ûè·üí·ûö·ûº·ûú·ûî·û∂·ûì·ûé·üÇ·ûì·û∂·üÜ):</p>\r\n                        <textarea\r\n                            ref={reasonInputRef}\r\n                            rows=\"3\"\r\n                            value={deleteReason}\r\n                            onChange={(e) => setDeleteReason(e.target.value)}\r\n                            placeholder=\"·ûß. ·û¢·ûè·û∑·ûê·û∑·ûá·ûì·ûî·üí·ûè·ûº·ûö·ûÖ·û∑·ûè·üí·ûè, ·ûî·ûâ·üí·ûÖ·ûº·ûõ·ûÅ·ûª·ûü...\"\r\n                            style={{ width: '95%', marginBottom: '15px', padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\r\n                        ></textarea>\r\n                        <div style={{ textAlign: 'right' }}>\r\n                            <button\r\n                                onClick={closeDeleteModal}\r\n                                style={{ marginRight: '10px', padding: '8px 15px', background: '#ccc' }}\r\n                            >·ûî·üÑ·üá·ûî·ûÑ·üã</button>\r\n                            <button\r\n                                onClick={confirmSoftDelete}\r\n                                style={{ padding: '8px 15px', background: 'var(--accent-color)', color: 'white' }}\r\n                            >·ûî·ûâ·üí·ûá·û∂·ûÄ·üã·ûÄ·û∂·ûö·ûõ·ûª·ûî</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SalesReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}