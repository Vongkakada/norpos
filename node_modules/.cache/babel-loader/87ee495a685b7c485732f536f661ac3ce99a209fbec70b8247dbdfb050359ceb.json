{"ast":null,"code":"var _jsxFileName = \"D:\\\\CUS\\\\POS Nor Coffee\\\\pos\\\\src\\\\components\\\\ReceiptModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/ReceiptModal.jsx\nimport React, { useRef, useEffect } from 'react';\nimport { KHR_SYMBOL, formatKHR } from '../utils/formatters';\nimport qrcode from '../assets/qrcode.jpg';\nimport logo from '../assets/logo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SHOP_STATIC_DETAILS = {\n  address: \"ផ្ទះលេខ 137 , ផ្លូវ 223, កំពង់ចាម\",\n  tel: \"016 438 555 / 061 91 4444\"\n};\nfunction ReceiptModal({\n  show,\n  onClose,\n  order,\n  orderId,\n  exchangeRate,\n  shopName\n}) {\n  _s();\n  const receiptRef = useRef(null);\n  useEffect(() => {\n    const cleanup = () => {\n      const el = receiptRef.current;\n      if (el) {\n        el.style.transform = '';\n        el.style.transformOrigin = '';\n        el.style.width = '';\n      }\n      window.removeEventListener('afterprint', cleanup);\n    };\n    window.addEventListener('afterprint', cleanup);\n    return () => window.removeEventListener('afterprint', cleanup);\n  }, []);\n  if (!show) return null;\n  const now = new Date();\n  const subtotalKHR = order.reduce((sum, item) => sum + (item.priceKHR || item.priceUSD || 0) * item.quantity, 0);\n  const totalKHR = subtotalKHR;\n  const safeShopNameForQR = shopName.replace(/\\s+/g, '_');\n  const qrData = `ORDER_ID:${orderId};TOTAL_KHR:${formatKHR(totalKHR)};SHOP_NAME:${safeShopNameForQR}`;\n  const qrCodeUrl = qrcode + `?data=${encodeURIComponent(qrData)}`;\n\n  // ---------------------------\n  // iOS / Android Smart Print\n  // ---------------------------\n  const handleSmartPrint = () => {\n    const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n    const isAndroid = /Android/i.test(navigator.userAgent);\n    const el = receiptRef.current;\n    if (isAndroid) {\n      // --- Android → RawBT ---\n      try {\n        const rawbtWindow = window.open(\"rawbt:print\", \"_blank\");\n        rawbtWindow.document.write(`\n                    <html>\n                        <body>${el.innerHTML}</body>\n                    </html>\n                `);\n        rawbtWindow.document.close();\n      } catch (e) {\n        alert(\"⚠ RawBT មិនទាន់ដំឡើងនៅលើទូរស័ព្ទ! សូមដំឡើង RawBT មុន។\");\n      }\n      return;\n    }\n\n    // --- iOS / PC → Normal Print ---\n    handlePrint();\n  };\n\n  // ---------------------------\n  // iOS & PC Print (window.print)\n  // ---------------------------\n  const handlePrint = () => {\n    const el = receiptRef.current;\n    if (el) {\n      const mmToPx = 3.7795275591;\n      const pageHeightMm = 297;\n      const pageMarginMm = 10;\n      const printableHeightPx = (pageHeightMm - pageMarginMm * 2) * mmToPx;\n      const contentHeight = el.scrollHeight;\n      const scale = Math.min(1, printableHeightPx / contentHeight);\n      if (scale < 1) {\n        el.style.transformOrigin = 'top left';\n        el.style.transform = `scale(${scale})`;\n        el.style.width = `${80 / scale}mm`;\n      } else {\n        el.style.width = '70mm';\n        el.style.transform = '';\n        el.style.transformOrigin = '';\n      }\n    }\n    const handleAfterPrint = () => {\n      try {\n        if (el) {\n          el.style.transform = '';\n          el.style.transformOrigin = '';\n          el.style.width = '';\n        }\n        if (typeof onClose === 'function') onClose();\n      } finally {\n        window.removeEventListener('afterprint', handleAfterPrint);\n      }\n    };\n    window.addEventListener('afterprint', handleAfterPrint);\n    window.print();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal show\",\n    id: \"receiptModal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close-button\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"receipt-print-area\",\n        ref: receiptRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-logo-top\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            className: \"receipt-logo\",\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: shopName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: SHOP_STATIC_DETAILS.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Tel: \", SHOP_STATIC_DETAILS.tel]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791: \", now.toLocaleDateString('km-KH'), \" \", now.toLocaleTimeString('km-KH')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u179B\\u17C1\\u1781\\u179C\\u17B7\\u1780\\u17D2\\u1780\\u1799\\u1794\\u178F\\u17D2\\u179A: \", orderId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"receipt-items-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u1798\\u17BB\\u1781\\u1791\\u17C6\\u1793\\u17B7\\u1789\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u1785\\u17C6\\u1793\\u17BD\\u1793\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: [\"\\u179F\\u179A\\u17BB\\u1794 (\", KHR_SYMBOL, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: order.map((item, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [item.khmerName, \" (\", item.englishName || '', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [KHR_SYMBOL, formatKHR((item.priceKHR || item.priceUSD) * item.quantity)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 37\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-summary-line\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u179F\\u179A\\u17BB\\u1794\\u179A\\u1784:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [KHR_SYMBOL, formatKHR(subtotalKHR)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-summary-line total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u179F\\u179A\\u17BB\\u1794 (\", KHR_SYMBOL, \"):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [KHR_SYMBOL, formatKHR(totalKHR)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-qr-code\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"0.8em\",\n              marginBottom: \"5px\"\n            },\n            children: \"\\u179F\\u17BC\\u1798\\u179F\\u17D2\\u1780\\u17C1\\u1793\\u178A\\u17BE\\u1798\\u17D2\\u1794\\u17B8\\u1791\\u17BC\\u1791\\u17B6\\u178F\\u17CB \\u17AC\\u1798\\u17BE\\u179B\\u1796\\u17D0\\u178F\\u17CC\\u1798\\u17B6\\u1793\\u1794\\u1793\\u17D2\\u1790\\u17C2\\u1798\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: qrCodeUrl,\n            alt: \"QR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u179F\\u17BC\\u1798\\u17A2\\u179A\\u1782\\u17BB\\u178E! \\u179F\\u17BC\\u1798\\u17A2\\u1789\\u17D2\\u1787\\u17BE\\u1789\\u1798\\u1780\\u1798\\u17D2\\u178F\\u1784\\u1791\\u17C0\\u178F!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"print-button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-close-receipt\",\n          onClick: onClose,\n          children: \"\\u1794\\u17C4\\u17C7\\u1794\\u1784\\u17CB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-print\",\n          onClick: handleSmartPrint,\n          children: \"\\u1794\\u17C4\\u17C7\\u1796\\u17BB\\u1798\\u17D2\\u1796\\u179C\\u17B7\\u1780\\u17D2\\u1780\\u1799\\u1794\\u178F\\u17D2\\u179A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n_s(ReceiptModal, \"+bmy/u1DcWpoXVi12vLkvCvPpK0=\");\n_c = ReceiptModal;\nexport default ReceiptModal;\nvar _c;\n$RefreshReg$(_c, \"ReceiptModal\");","map":{"version":3,"names":["React","useRef","useEffect","KHR_SYMBOL","formatKHR","qrcode","logo","jsxDEV","_jsxDEV","SHOP_STATIC_DETAILS","address","tel","ReceiptModal","show","onClose","order","orderId","exchangeRate","shopName","_s","receiptRef","cleanup","el","current","style","transform","transformOrigin","width","window","removeEventListener","addEventListener","now","Date","subtotalKHR","reduce","sum","item","priceKHR","priceUSD","quantity","totalKHR","safeShopNameForQR","replace","qrData","qrCodeUrl","encodeURIComponent","handleSmartPrint","isIOS","test","navigator","userAgent","isAndroid","rawbtWindow","open","document","write","innerHTML","close","e","alert","handlePrint","mmToPx","pageHeightMm","pageMarginMm","printableHeightPx","contentHeight","scrollHeight","scale","Math","min","handleAfterPrint","print","className","id","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","alt","toLocaleDateString","toLocaleTimeString","map","i","khmerName","englishName","fontSize","marginBottom","_c","$RefreshReg$"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/ReceiptModal.jsx"],"sourcesContent":["// src/components/ReceiptModal.jsx\r\nimport React, { useRef, useEffect } from 'react';\r\nimport { KHR_SYMBOL, formatKHR } from '../utils/formatters';\r\nimport qrcode from '../assets/qrcode.jpg';\r\nimport logo from '../assets/logo.png';\r\n\r\nconst SHOP_STATIC_DETAILS = {\r\n    address: \"ផ្ទះលេខ 137 , ផ្លូវ 223, កំពង់ចាម\",\r\n    tel: \"016 438 555 / 061 91 4444\"\r\n};\r\n\r\nfunction ReceiptModal({ show, onClose, order, orderId, exchangeRate, shopName }) {\r\n    const receiptRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const cleanup = () => {\r\n            const el = receiptRef.current;\r\n            if (el) {\r\n                el.style.transform = '';\r\n                el.style.transformOrigin = '';\r\n                el.style.width = '';\r\n            }\r\n            window.removeEventListener('afterprint', cleanup);\r\n        };\r\n        window.addEventListener('afterprint', cleanup);\r\n        return () => window.removeEventListener('afterprint', cleanup);\r\n    }, []);\r\n\r\n    if (!show) return null;\r\n\r\n    const now = new Date();\r\n    const subtotalKHR = order.reduce(\r\n        (sum, item) => sum + (item.priceKHR || item.priceUSD || 0) * item.quantity,\r\n        0\r\n    );\r\n    const totalKHR = subtotalKHR;\r\n\r\n    const safeShopNameForQR = shopName.replace(/\\s+/g, '_');\r\n    const qrData = `ORDER_ID:${orderId};TOTAL_KHR:${formatKHR(totalKHR)};SHOP_NAME:${safeShopNameForQR}`;\r\n    const qrCodeUrl = qrcode + `?data=${encodeURIComponent(qrData)}`;\r\n\r\n    // ---------------------------\r\n    // iOS / Android Smart Print\r\n    // ---------------------------\r\n    const handleSmartPrint = () => {\r\n        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n        const isAndroid = /Android/i.test(navigator.userAgent);\r\n\r\n        const el = receiptRef.current;\r\n\r\n        if (isAndroid) {\r\n            // --- Android → RawBT ---\r\n            try {\r\n                const rawbtWindow = window.open(\"rawbt:print\", \"_blank\");\r\n\r\n                rawbtWindow.document.write(`\r\n                    <html>\r\n                        <body>${el.innerHTML}</body>\r\n                    </html>\r\n                `);\r\n\r\n                rawbtWindow.document.close();\r\n            } catch (e) {\r\n                alert(\"⚠ RawBT មិនទាន់ដំឡើងនៅលើទូរស័ព្ទ! សូមដំឡើង RawBT មុន។\");\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        // --- iOS / PC → Normal Print ---\r\n        handlePrint();\r\n    };\r\n\r\n    // ---------------------------\r\n    // iOS & PC Print (window.print)\r\n    // ---------------------------\r\n    const handlePrint = () => {\r\n        const el = receiptRef.current;\r\n        if (el) {\r\n            const mmToPx = 3.7795275591;\r\n            const pageHeightMm = 297;\r\n            const pageMarginMm = 10;\r\n            const printableHeightPx = (pageHeightMm - pageMarginMm * 2) * mmToPx;\r\n            const contentHeight = el.scrollHeight;\r\n            const scale = Math.min(1, printableHeightPx / contentHeight);\r\n\r\n            if (scale < 1) {\r\n                el.style.transformOrigin = 'top left';\r\n                el.style.transform = `scale(${scale})`;\r\n                el.style.width = `${80 / scale}mm`;\r\n            } else {\r\n                el.style.width = '70mm';\r\n                el.style.transform = '';\r\n                el.style.transformOrigin = '';\r\n            }\r\n        }\r\n\r\n        const handleAfterPrint = () => {\r\n            try {\r\n                if (el) {\r\n                    el.style.transform = '';\r\n                    el.style.transformOrigin = '';\r\n                    el.style.width = '';\r\n                }\r\n                if (typeof onClose === 'function') onClose();\r\n            } finally {\r\n                window.removeEventListener('afterprint', handleAfterPrint);\r\n            }\r\n        };\r\n\r\n        window.addEventListener('afterprint', handleAfterPrint);\r\n        window.print();\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal show\" id=\"receiptModal\">\r\n            <div className=\"modal-content\">\r\n                <span className=\"close-button\" onClick={onClose}>×</span>\r\n\r\n                <div className=\"receipt-print-area\" ref={receiptRef}>\r\n                    <div className=\"receipt-logo-top\">\r\n                        <img src={logo} className=\"receipt-logo\" alt=\"logo\" />\r\n                    </div>\r\n\r\n                    <div className=\"receipt-header\">\r\n                        <h3>{shopName}</h3>\r\n                        <p>{SHOP_STATIC_DETAILS.address}</p>\r\n                        <p>Tel: {SHOP_STATIC_DETAILS.tel}</p>\r\n                        <p>កាលបរិច្ឆេទ: {now.toLocaleDateString('km-KH')} {now.toLocaleTimeString('km-KH')}</p>\r\n                        <p>លេខវិក្កយបត្រ: {orderId}</p>\r\n                    </div>\r\n\r\n                    <div className=\"receipt-divider\"></div>\r\n\r\n                    <table className=\"receipt-items-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>មុខទំនិញ</th>\r\n                                <th>ចំនួន</th>\r\n                                <th>សរុប ({KHR_SYMBOL})</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {order.map((item, i) => (\r\n                                <tr key={i}>\r\n                                    <td>{item.khmerName} ({item.englishName || ''})</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{KHR_SYMBOL}{formatKHR((item.priceKHR || item.priceUSD) * item.quantity)}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    <div className=\"receipt-divider\"></div>\r\n\r\n                    <div className=\"receipt-summary\">\r\n                        <div className=\"receipt-summary-line\">\r\n                            <span>សរុបរង:</span>\r\n                            <span>{KHR_SYMBOL}{formatKHR(subtotalKHR)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"receipt-divider\"></div>\r\n\r\n                        <div className=\"receipt-summary-line total\">\r\n                            <span>សរុប ({KHR_SYMBOL}):</span>\r\n                            <span>{KHR_SYMBOL}{formatKHR(totalKHR)}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"receipt-qr-code\">\r\n                        <p style={{ fontSize: \"0.8em\", marginBottom: \"5px\" }}>\r\n                            សូមស្កេនដើម្បីទូទាត់ ឬមើលព័ត៌មានបន្ថែម\r\n                        </p>\r\n                        <img src={qrCodeUrl} alt=\"QR\" />\r\n                    </div>\r\n\r\n                    <div className=\"receipt-footer\">\r\n                        <p>សូមអរគុណ! សូមអញ្ជើញមកម្តងទៀត!</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"print-button-container\">\r\n                    <button className=\"btn-close-receipt\" onClick={onClose}>បោះបង់</button>\r\n\r\n                    {/* BUTTON តែមួយ */}\r\n                    <button className=\"btn-print\" onClick={handleSmartPrint}>\r\n                        បោះពុម្ពវិក្កយបត្រ\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ReceiptModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}