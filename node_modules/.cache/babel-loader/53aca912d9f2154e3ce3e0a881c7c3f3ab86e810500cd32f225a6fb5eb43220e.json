{"ast":null,"code":"var _jsxFileName = \"D:\\\\CUS\\\\POS Nor Coffee\\\\pos\\\\src\\\\components\\\\ReceiptModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/ReceiptModal.jsx\nimport React, { useRef, useEffect } from 'react';\nimport { KHR_SYMBOL, formatKHR } from '../utils/formatters';\nimport qrcode from '../assets/qrcode.jpg'; // Assuming you have a CSS file for styling\nimport logo from '../assets/logo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SHOP_STATIC_DETAILS = {\n  address: \"ផ្ទះលេខ 137 , ផ្លូវ 223, កំពង់ចាម\",\n  tel: \"016 438 555 / 061 91 4444\"\n};\nfunction ReceiptModal({\n  show,\n  onClose,\n  order,\n  orderId,\n  exchangeRate,\n  /* taxRate, */shopName\n}) {\n  _s();\n  // << លុប taxRate\n  const receiptRef = useRef(null);\n  useEffect(() => {\n    const cleanup = () => {\n      const el = receiptRef.current;\n      if (el) {\n        el.style.transform = '';\n        el.style.transformOrigin = '';\n        el.style.width = '';\n      }\n      window.removeEventListener('afterprint', cleanup);\n    };\n    window.addEventListener('afterprint', cleanup);\n    return () => window.removeEventListener('afterprint', cleanup);\n  }, []);\n  if (!show) return null;\n  const now = new Date();\n  const subtotalKHR = order.reduce((sum, item) => sum + (item.priceKHR || item.priceUSD || 0) * item.quantity, 0);\n  // const taxKHR = subtotalKHR * taxRate; // tax removed\n  const totalKHR = subtotalKHR; // already in KHR\n\n  const safeShopNameForQR = shopName.replace(/\\s+/g, '_');\n  const qrData = `ORDER_ID:${orderId};TOTAL_KHR:${formatKHR(totalKHR)};SHOP_NAME:${safeShopNameForQR}`;\n  const qrCodeUrl = qrcode + `?data=${encodeURIComponent(qrData)}`; // Assuming you have a QR code image\n\n  const handlePrint = () => {\n    const el = receiptRef.current;\n    if (el && typeof window !== 'undefined') {\n      // Convert mm to px (approx at 96dpi): 1mm = 3.7795275591px\n      const mmToPx = 3.7795275591;\n      const pageHeightMm = 297; // target page height in mm\n      const pageMarginMm = 6; // as defined in @page margin\n      const printableHeightPx = (pageHeightMm - pageMarginMm * 2) * mmToPx;\n\n      // Measure content height\n      const contentHeight = el.scrollHeight;\n\n      // Compute scale to fit content into printable height (cap at 1)\n      const scale = Math.min(1, printableHeightPx / contentHeight);\n      if (scale < 1) {\n        el.style.transformOrigin = 'top left';\n        el.style.transform = `scale(${scale})`;\n        // Ensure the printed width accounts for scale so it stays within 80mm\n        el.style.width = `${80 / scale}mm`;\n      } else {\n        // Ensure width is set to 80mm when no scaling\n        el.style.width = '80mm';\n        el.style.transform = '';\n        el.style.transformOrigin = '';\n      }\n    }\n\n    // Trigger print. afterprint listener will cleanup styles.\n    window.print();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal show\",\n    id: \"receiptModal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close-button\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"receipt-print-area\",\n        ref: receiptRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-logo-top\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"Logo\",\n            className: \"receipt-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: shopName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: SHOP_STATIC_DETAILS.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Tel: \", SHOP_STATIC_DETAILS.tel]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791: \", now.toLocaleDateString('km-KH'), \" \", now.toLocaleTimeString('km-KH')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u179B\\u17C1\\u1781\\u179C\\u17B7\\u1780\\u17D2\\u1780\\u1799\\u1794\\u178F\\u17D2\\u179A: \", orderId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"receipt-items-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u1798\\u17BB\\u1781\\u1791\\u17C6\\u1793\\u17B7\\u1789\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u1785\\u17C6\\u1793\\u17BD\\u1793\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: [\"\\u179F\\u179A\\u17BB\\u1794 (\", KHR_SYMBOL, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: order.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [item.khmerName, \" (\", item.englishName || '', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [KHR_SYMBOL, formatKHR((item.priceKHR || item.priceUSD) * item.quantity)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 37\n              }, this)]\n            }, item.khmerName + (item.priceKHR || item.priceUSD || 0), true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-summary-line\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u179F\\u179A\\u17BB\\u1794\\u179A\\u1784:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [KHR_SYMBOL, formatKHR(subtotalKHR || 0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-divider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-summary-line total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u179F\\u179A\\u17BB\\u1794 (\", KHR_SYMBOL, \"):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [KHR_SYMBOL, formatKHR(totalKHR || 0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-qr-code\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.8em',\n              marginBottom: '5px',\n              fontFamily: 'var(--font-family)'\n            },\n            children: \"\\u179F\\u17BC\\u1798\\u179F\\u17D2\\u1780\\u17C1\\u1793\\u178A\\u17BE\\u1798\\u17D2\\u1794\\u17B8\\u1791\\u17BC\\u1791\\u17B6\\u178F\\u17CB \\u17AC\\u1798\\u17BE\\u179B\\u1796\\u17D0\\u178F\\u17CC\\u1798\\u17B6\\u1793\\u1794\\u1793\\u17D2\\u1790\\u17C2\\u1798\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: qrCodeUrl,\n            alt: \"QR Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"receipt-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u179F\\u17BC\\u1798\\u17A2\\u179A\\u1782\\u17BB\\u178E! \\u179F\\u17BC\\u1798\\u17A2\\u1789\\u17D2\\u1787\\u17BE\\u1789\\u1798\\u1780\\u1798\\u17D2\\u178F\\u1784\\u1791\\u17C0\\u178F!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"print-button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-close-receipt\",\n          onClick: onClose,\n          children: \"\\u1794\\u17C4\\u17C7\\u1794\\u1784\\u17CB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-print\",\n          onClick: handlePrint,\n          children: \"\\u1794\\u17C4\\u17C7\\u1796\\u17BB\\u1798\\u17D2\\u1796\\u179C\\u17B7\\u1780\\u17D2\\u1780\\u1799\\u1794\\u178F\\u17D2\\u179A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n_s(ReceiptModal, \"+bmy/u1DcWpoXVi12vLkvCvPpK0=\");\n_c = ReceiptModal;\nexport default ReceiptModal;\nvar _c;\n$RefreshReg$(_c, \"ReceiptModal\");","map":{"version":3,"names":["React","useRef","useEffect","KHR_SYMBOL","formatKHR","qrcode","logo","jsxDEV","_jsxDEV","SHOP_STATIC_DETAILS","address","tel","ReceiptModal","show","onClose","order","orderId","exchangeRate","shopName","_s","receiptRef","cleanup","el","current","style","transform","transformOrigin","width","window","removeEventListener","addEventListener","now","Date","subtotalKHR","reduce","sum","item","priceKHR","priceUSD","quantity","totalKHR","safeShopNameForQR","replace","qrData","qrCodeUrl","encodeURIComponent","handlePrint","mmToPx","pageHeightMm","pageMarginMm","printableHeightPx","contentHeight","scrollHeight","scale","Math","min","print","className","id","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","alt","toLocaleDateString","toLocaleTimeString","map","khmerName","englishName","fontSize","marginBottom","fontFamily","_c","$RefreshReg$"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/ReceiptModal.jsx"],"sourcesContent":["// src/components/ReceiptModal.jsx\r\nimport React, { useRef, useEffect } from 'react';\r\nimport { KHR_SYMBOL, formatKHR } from '../utils/formatters';\r\nimport qrcode from '../assets/qrcode.jpg'; // Assuming you have a CSS file for styling\r\nimport logo from '../assets/logo.png';\r\n\r\nconst SHOP_STATIC_DETAILS = {\r\n    address: \"ផ្ទះលេខ 137 , ផ្លូវ 223, កំពង់ចាម\",\r\n    tel: \"016 438 555 / 061 91 4444\"\r\n};\r\n\r\nfunction ReceiptModal({ show, onClose, order, orderId, exchangeRate, /* taxRate, */ shopName }) { // << លុប taxRate\r\n    const receiptRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const cleanup = () => {\r\n            const el = receiptRef.current;\r\n            if (el) {\r\n                el.style.transform = '';\r\n                el.style.transformOrigin = '';\r\n                el.style.width = '';\r\n            }\r\n            window.removeEventListener('afterprint', cleanup);\r\n        };\r\n\r\n        window.addEventListener('afterprint', cleanup);\r\n        return () => window.removeEventListener('afterprint', cleanup);\r\n    }, []);\r\n\r\n    if (!show) return null;\r\n    const now = new Date();\r\n    const subtotalKHR = order.reduce((sum, item) => sum + (item.priceKHR || item.priceUSD || 0) * item.quantity, 0);\r\n    // const taxKHR = subtotalKHR * taxRate; // tax removed\r\n    const totalKHR = subtotalKHR; // already in KHR\r\n\r\n    const safeShopNameForQR = shopName.replace(/\\s+/g, '_');\r\n    const qrData = `ORDER_ID:${orderId};TOTAL_KHR:${formatKHR(totalKHR)};SHOP_NAME:${safeShopNameForQR}`;\r\n    const qrCodeUrl = qrcode + `?data=${encodeURIComponent(qrData)}`; // Assuming you have a QR code image\r\n\r\n\r\n    const handlePrint = () => {\r\n        const el = receiptRef.current;\r\n        if (el && typeof window !== 'undefined') {\r\n            // Convert mm to px (approx at 96dpi): 1mm = 3.7795275591px\r\n            const mmToPx = 3.7795275591;\r\n            const pageHeightMm = 297; // target page height in mm\r\n            const pageMarginMm = 6; // as defined in @page margin\r\n            const printableHeightPx = (pageHeightMm - pageMarginMm * 2) * mmToPx;\r\n\r\n            // Measure content height\r\n            const contentHeight = el.scrollHeight;\r\n\r\n            // Compute scale to fit content into printable height (cap at 1)\r\n            const scale = Math.min(1, printableHeightPx / contentHeight);\r\n\r\n            if (scale < 1) {\r\n                el.style.transformOrigin = 'top left';\r\n                el.style.transform = `scale(${scale})`;\r\n                // Ensure the printed width accounts for scale so it stays within 80mm\r\n                el.style.width = `${80 / scale}mm`;\r\n            } else {\r\n                // Ensure width is set to 80mm when no scaling\r\n                el.style.width = '80mm';\r\n                el.style.transform = '';\r\n                el.style.transformOrigin = '';\r\n            }\r\n        }\r\n\r\n        // Trigger print. afterprint listener will cleanup styles.\r\n        window.print();\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal show\" id=\"receiptModal\">\r\n            <div className=\"modal-content\">\r\n                <span className=\"close-button\" onClick={onClose}>×</span>\r\n                <div className=\"receipt-print-area\" ref={receiptRef}>\r\n                    <div className=\"receipt-logo-top\">\r\n                        <img src={logo} alt=\"Logo\" className=\"receipt-logo\" />\r\n                    </div>\r\n                    <div className=\"receipt-header\">\r\n                        <h3>{shopName}</h3>\r\n                        <p>{SHOP_STATIC_DETAILS.address}</p>\r\n                        <p>Tel: {SHOP_STATIC_DETAILS.tel}</p>\r\n                        <p>កាលបរិច្ឆេទ: {now.toLocaleDateString('km-KH')} {now.toLocaleTimeString('km-KH')}</p>\r\n                        <p>លេខវិក្កយបត្រ: {orderId}</p>\r\n                    </div>\r\n                    <div className=\"receipt-divider\"></div>\r\n                    <table className=\"receipt-items-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>មុខទំនិញ</th>\r\n                                <th>ចំនួន</th>\r\n                                <th>សរុប ({KHR_SYMBOL})</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {order.map(item => (\r\n                                <tr key={item.khmerName + (item.priceKHR || item.priceUSD || 0)}>\r\n                                    <td>{item.khmerName} ({item.englishName || ''})</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{KHR_SYMBOL}{formatKHR((item.priceKHR || item.priceUSD) * item.quantity)}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    <div className=\"receipt-divider\"></div>\r\n                    <div className=\"receipt-summary\">\r\n                        <div className=\"receipt-summary-line\">\r\n                            <span>សរុបរង:</span>\r\n                            <span>\r\n                                {KHR_SYMBOL}{formatKHR(subtotalKHR || 0)}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"receipt-divider\"></div>\r\n                        <div className=\"receipt-summary-line total\">\r\n                            <span>សរុប ({KHR_SYMBOL}):</span>\r\n                            <span>{KHR_SYMBOL}{formatKHR(totalKHR || 0)}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"receipt-qr-code\">\r\n                        <p style={{fontSize:'0.8em', marginBottom:'5px', fontFamily: 'var(--font-family)'}}>សូមស្កេនដើម្បីទូទាត់ ឬមើលព័ត៌មានបន្ថែម</p>\r\n                        <img src={qrCodeUrl} alt=\"QR Code\" />\r\n                    </div>\r\n                    <div className=\"receipt-footer\">\r\n                        <p>សូមអរគុណ! សូមអញ្ជើញមកម្តងទៀត!</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"print-button-container\">\r\n                    <button className=\"btn-close-receipt\" onClick={onClose}>បោះបង់</button>\r\n                    <button className=\"btn-print\" onClick={handlePrint}>បោះពុម្ពវិក្កយបត្រ</button>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ReceiptModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}