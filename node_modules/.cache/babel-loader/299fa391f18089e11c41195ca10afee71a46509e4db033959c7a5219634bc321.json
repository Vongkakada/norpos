{"ast":null,"code":"var _jsxFileName = \"D:\\\\CUS\\\\POS Nor Coffee\\\\pos\\\\src\\\\components\\\\SalesReport.jsx\",\n  _s = $RefreshSig$();\n// src/components/SalesReport.jsx\nimport React, { useState, useMemo } from 'react';\nimport { USD_SYMBOL, KHR_SYMBOL, formatUSD, formatKHR } from '../utils/formatters';\nimport * as XLSX from 'xlsx'; // <--- Import ·ûü·ûò·üí·ûö·û∂·ûî·üã xlsx\nimport { saveAs } from 'file-saver'; // <--- Import ·ûü·ûò·üí·ûö·û∂·ûî·üã file-saver\n\n// Function SalesReport ·ûò·û∑·ûì·ûï·üí·ûõ·û∂·ûü·üã·ûî·üí·ûè·ûº·ûö·ûÖ·üí·ûö·ûæ·ûì·ûñ·û∏ Version ·ûò·ûª·ûì·ûä·üÇ·ûõ·ûä·ûÄ·ûñ·ûì·üí·ûí·ûÖ·üÅ·ûâ\n// ·ûÄ·û∂·ûö·ûï·üí·ûõ·û∂·ûü·üã·ûî·üí·ûè·ûº·ûö·ûü·üÜ·ûÅ·û∂·ûì·üã·ûÇ·û∫·ûö·ûî·üÄ·ûî·ûä·üÇ·ûõ·ûú·û∂·ûë·ûë·ûΩ·ûõ allOrders ·ûñ·û∏ App.jsx ·ûä·üÇ·ûõ·û•·û°·ûº·ûú·ûò·ûÄ·ûñ·û∏ Firestore\n// ·ûì·û∑·ûÑ·ûÄ·û∂·ûö·ûî·üí·ûö·ûæ·ûî·üí·ûö·û∂·ûü·üã exchangeRateAtPurchase ·ûü·ûò·üí·ûö·û∂·ûî·üã·ûÇ·ûé·ûì·û∂ KHR ·ûì·üÉ Order ·ûÖ·û∂·ûü·üã·üó\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SalesReport({\n  allOrders,\n  exchangeRate /* ·ûì·üÅ·üá·ûá·û∂ exchangeRate ·ûî·ûÖ·üí·ûÖ·ûª·ûî·üí·ûî·ûì·üí·ûì ·ûò·û∑·ûì·ûò·üÇ·ûì·ûö·ûî·ûü·üã Order ·ûÖ·û∂·ûü·üã·ûë·üÅ */\n}) {\n  _s();\n  const [reportType, setReportType] = useState('daily');\n  const [filterDate, setFilterDate] = useState(new Date().toISOString().split('T')[0]);\n  const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\n  const salesData = useMemo(() => {\n    if (!allOrders || allOrders.length === 0) {\n      return {\n        grandTotalUSD: 0,\n        count: 0,\n        orders: []\n      };\n    }\n    let filteredOrders = [];\n    if (reportType === 'daily') {\n      filteredOrders = allOrders.filter(order => order.date && order.date.startsWith(filterDate));\n    } else if (reportType === 'monthly') {\n      filteredOrders = allOrders.filter(order => order.date && order.date.startsWith(filterMonth));\n    } else if (reportType === 'all') {\n      filteredOrders = allOrders;\n    }\n    const grandTotalUSD = filteredOrders.reduce((sum, order) => sum + (order.totalUSD || 0), 0);\n    return {\n      grandTotalUSD,\n      count: filteredOrders.length,\n      orders: filteredOrders\n    };\n  }, [allOrders, reportType, filterDate, filterMonth]);\n  const getReportTitle = () => {\n    if (reportType === 'daily') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûê·üí·ûÑ·üÉ·ûë·û∏ ${new Date(filterDate + 'T00:00:00').toLocaleDateString('km-KH', {\n      day: '2-digit',\n      month: 'long',\n      year: 'numeric'\n    })}`;\n    if (reportType === 'monthly') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûÅ·üÇ ${new Date(filterMonth + '-01T00:00:00').toLocaleDateString('km-KH', {\n      month: 'long',\n      year: 'numeric'\n    })}`;\n    return '·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã·ûü·ûö·ûª·ûî';\n  };\n  const handlePrintReport = () => {\n    // ... (·ûä·ûº·ûÖ·ûò·ûª·ûì)\n    const reportPanel = document.querySelector('.sales-report-panel');\n    const appContainer = document.querySelector('.pos-container.report-view-container');\n    if (reportPanel && appContainer) {\n      appContainer.classList.add('printing-sales-report');\n      reportPanel.classList.add('print-this-report');\n      window.print();\n      reportPanel.classList.remove('print-this-report');\n      appContainer.classList.remove('printing-sales-report');\n    } else {\n      console.error(\"Report panel or app container not found for printing.\");\n    }\n  };\n  const handleDownloadCSV = () => {\n    // ... (·ûä·ûº·ûÖ·ûò·ûª·ûì, ·ûè·üí·ûö·ûº·ûú·ûî·üí·ûö·û∂·ûÄ·ûä·ûê·û∂ column headers ·ûè·üí·ûö·ûº·ûú·ûì·ûπ·ûÑ data)\n    if (salesData.orders.length === 0) {\n      alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã·ûë·û∂·ûâ·ûô·ûÄ·üî\");\n      return;\n    }\n    let csvContent = \"data:text/csv;charset=utf-8,\";\n    csvContent += \"Order ID (Display),Firestore ID,Date,Time,Items Count,Total USD,Total KHR (at Purchase),Exchange Rate (at Purchase)\\r\\n\";\n    salesData.orders.forEach(order => {\n      const orderDate = new Date(order.date);\n      const dateStr = orderDate.toLocaleDateString('en-CA');\n      const timeStr = orderDate.toLocaleTimeString('en-GB');\n      const itemsCount = order.items.reduce((sum, item) => sum + item.quantity, 0);\n      const totalKHRatPurchase = order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate); // ·ûî·üí·ûö·ûæ exchangeRateAtPurchase ·ûî·ûæ·ûò·û∂·ûì\n\n      csvContent += `${order.orderIdString || 'N/A'},${order.firestoreId},${dateStr},${timeStr},${itemsCount},${formatUSD(order.totalUSD)},${formatKHR(totalKHRatPurchase)},${order.exchangeRateAtPurchase || 'N/A'}\\r\\n`;\n    });\n    const encodedUri = encodeURI(csvContent);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", encodedUri);\n    link.setAttribute(\"download\", `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.csv`);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  const handleExportToExcel = () => {\n    // ... (·ûä·ûº·ûÖ·ûò·ûª·ûì, ·ûè·üí·ûö·ûº·ûú·ûî·üí·ûö·û∂·ûÄ·ûä·ûê·û∂ data mapping ·ûè·üí·ûö·ûπ·ûò·ûè·üí·ûö·ûº·ûú)\n    if (!salesData || salesData.orders.length === 0) {\n      alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã Export ·ûë·üÅ·üî\");\n      return;\n    }\n    const dataForExcel = salesData.orders.map(order => {\n      const orderDate = new Date(order.date);\n      const itemsCount = order.items.reduce((sum, item) => sum + item.quantity, 0);\n      const itemsString = order.items.map(i => `${i.khmerName} (x${i.quantity})`).join(', ');\n      const totalKHRatPurchase = order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate);\n      return {\n        '·ûõ·üÅ·ûÅ·ûú·û∑·ûÄ·üí·ûÄ·ûô·ûî·ûè·üí·ûö (Display)': order.orderIdString || 'N/A',\n        'Firestore ID': order.firestoreId,\n        '·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë': orderDate.toLocaleDateString('km-KH'),\n        '·ûò·üâ·üÑ·ûÑ': orderDate.toLocaleTimeString('km-KH'),\n        '·ûò·ûª·ûÅ·ûë·üÜ·ûì·û∑·ûâ·ûü·ûö·ûª·ûî': itemsCount,\n        '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤': itemsString,\n        '·ûü·ûö·ûª·ûî (USD)': order.totalUSD,\n        '·ûü·ûö·ûª·ûî (KHR ‡∏ì·ûñ·üÅ·ûõ‡∏ã‡∏∑‡πâ‡∏≠)': totalKHRatPurchase,\n        '·û¢·ûè·üí·ûö·û∂·ûî·üí·ûè·ûº·ûö·ûî·üí·ûö·û∂·ûÄ·üã (‡∏ì·ûñ·üÅ·ûõ‡∏ã‡∏∑‡πâ‡∏≠)': order.exchangeRateAtPurchase || 'N/A'\n      };\n    });\n    const worksheet = XLSX.utils.json_to_sheet(dataForExcel);\n    const columnWidths = [{\n      wch: 20\n    }, {\n      wch: 25\n    }, {\n      wch: 15\n    }, {\n      wch: 12\n    }, {\n      wch: 15\n    }, {\n      wch: 50\n    }, {\n      wch: 15\n    }, {\n      wch: 20\n    }, {\n      wch: 20\n    }];\n    worksheet['!cols'] = columnWidths;\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Sales Report\");\n    const excelBuffer = XLSX.write(workbook, {\n      bookType: 'xlsx',\n      type: 'array'\n    });\n    const dataBlob = new Blob([excelBuffer], {\n      type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\"\n    });\n    saveAs(dataBlob, `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.xlsx`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sales-report-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\\u179B\\u1780\\u17CB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setReportType('daily'),\n        className: reportType === 'daily' ? 'active' : '',\n        children: \"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1790\\u17D2\\u1784\\u17C3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 18\n      }, this), reportType === 'daily' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: filterDate,\n        onChange: e => setFilterDate(e.target.value),\n        style: {\n          padding: '7px',\n          borderRadius: '5px',\n          border: '1px solid var(--border-color)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setReportType('monthly'),\n        className: reportType === 'monthly' ? 'active' : '',\n        children: \"\\u1794\\u17D2\\u179A\\u1785\\u17B6\\u17C6\\u1781\\u17C2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), reportType === 'monthly' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"month\",\n        value: filterMonth,\n        onChange: e => setFilterMonth(e.target.value),\n        style: {\n          padding: '7px',\n          borderRadius: '5px',\n          border: '1px solid var(--border-color)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setReportType('all'),\n        className: reportType === 'all' ? 'active' : '',\n        children: \"\\u1791\\u17B6\\u17C6\\u1784\\u17A2\\u179F\\u17CB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrintReport,\n        disabled: salesData.orders.length === 0,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"print\",\n          children: \"\\uD83D\\uDDA8\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), \" \\u1794\\u17C4\\u17C7\\u1796\\u17BB\\u1798\\u17D2\\u1796\\u179A\\u1794\\u17B6\\u1799\\u1780\\u17B6\\u179A\\u178E\\u17CD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownloadCSV,\n        disabled: salesData.orders.length === 0,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"download\",\n          children: \"\\uD83D\\uDCBE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), \" \\u1791\\u17B6\\u1789\\u1799\\u1780\\u1787\\u17B6 CSV\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleExportToExcel,\n        disabled: !salesData || salesData.orders.length === 0,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"excel\",\n          children: \"\\uD83D\\uDCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), \" \\u1791\\u17B6\\u1789\\u1799\\u1780\\u1787\\u17B6 Excel\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-section\",\n      id: \"salesReportPrintSection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: getReportTitle()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u179F\\u179A\\u17BB\\u1794\\u1793\\u17C3\\u1780\\u17B6\\u179A\\u1794\\u1789\\u17D2\\u1787\\u17B6\\u1791\\u17B7\\u1789: \", salesData.count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          marginTop: '10px',\n          color: 'var(--primary-color)'\n        },\n        children: [\"\\u1794\\u17D2\\u179A\\u17B6\\u1780\\u17CB\\u1785\\u17C6\\u178E\\u17BC\\u179B\\u179F\\u179A\\u17BB\\u1794: \", USD_SYMBOL, formatUSD(salesData.grandTotalUSD)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), salesData.orders.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"report-data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID \\u1794\\u1784\\u17D2\\u17A0\\u17B6\\u1789\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Firestore ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u1798\\u17C9\\u17C4\\u1784\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"number-cell\",\n              children: \"\\u1785\\u17C6\\u1793\\u17BD\\u1793\\u1798\\u17BB\\u1781\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"number-cell\",\n              children: \"\\u179F\\u179A\\u17BB\\u1794 (USD)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"number-cell\",\n              children: \"\\u179F\\u179A\\u17BB\\u1794 (KHR @\\u1791\\u17B7\\u1789)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: salesData.orders.map(order => {\n            const orderDate = new Date(order.date);\n            const itemsCount = order.items.reduce((sum, item) => sum + item.quantity, 0);\n            const khrAtPurchase = order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate); // Fallback to current if not saved\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.orderIdString || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.firestoreId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: orderDate.toLocaleDateString('km-KH')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: orderDate.toLocaleTimeString('km-KH')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"number-cell\",\n                children: itemsCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"number-cell\",\n                children: formatUSD(order.totalUSD)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"number-cell\",\n                children: formatKHR(khrAtPurchase)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 41\n              }, this)]\n            }, order.firestoreId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"4\",\n              style: {\n                textAlign: 'right',\n                fontWeight: 'bold'\n              },\n              children: \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"number-cell\",\n              style: {\n                fontWeight: 'bold'\n              },\n              children: salesData.orders.reduce((acc, curr) => acc + curr.items.reduce((s, i) => s + i.quantity, 0), 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"number-cell\",\n              style: {\n                fontWeight: 'bold'\n              },\n              children: formatUSD(salesData.grandTotalUSD)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"number-cell\",\n              style: {\n                fontWeight: 'bold'\n              },\n              children: [KHR_SYMBOL, formatKHR(salesData.orders.reduce((sum, order) => sum + order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate), 0))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u1798\\u17B7\\u1793\\u1791\\u17B6\\u1793\\u17CB\\u1798\\u17B6\\u1793\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u179B\\u1780\\u17CB\\u179F\\u1798\\u17D2\\u179A\\u17B6\\u1794\\u17CB\\u178F\\u1798\\u17D2\\u179A\\u1784\\u1793\\u17C1\\u17C7\\u1791\\u17C1\\u17D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 9\n  }, this);\n}\n_s(SalesReport, \"BqU8La57C0Q4nF02+wgVHhgBhnE=\");\n_c = SalesReport;\nexport default SalesReport;\nvar _c;\n$RefreshReg$(_c, \"SalesReport\");","map":{"version":3,"names":["React","useState","useMemo","USD_SYMBOL","KHR_SYMBOL","formatUSD","formatKHR","XLSX","saveAs","jsxDEV","_jsxDEV","SalesReport","allOrders","exchangeRate","_s","reportType","setReportType","filterDate","setFilterDate","Date","toISOString","split","filterMonth","setFilterMonth","slice","salesData","length","grandTotalUSD","count","orders","filteredOrders","filter","order","date","startsWith","reduce","sum","totalUSD","getReportTitle","toLocaleDateString","day","month","year","handlePrintReport","reportPanel","document","querySelector","appContainer","classList","add","window","print","remove","console","error","handleDownloadCSV","alert","csvContent","forEach","orderDate","dateStr","timeStr","toLocaleTimeString","itemsCount","items","item","quantity","totalKHRatPurchase","exchangeRateAtPurchase","orderIdString","firestoreId","encodedUri","encodeURI","link","createElement","setAttribute","body","appendChild","click","removeChild","handleExportToExcel","dataForExcel","map","itemsString","i","khmerName","join","worksheet","utils","json_to_sheet","columnWidths","wch","workbook","book_new","book_append_sheet","excelBuffer","write","bookType","type","dataBlob","Blob","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","e","target","style","padding","borderRadius","border","disabled","role","id","fontWeight","marginTop","color","khrAtPurchase","colSpan","textAlign","acc","curr","s","_c","$RefreshReg$"],"sources":["D:/CUS/POS Nor Coffee/pos/src/components/SalesReport.jsx"],"sourcesContent":["// src/components/SalesReport.jsx\r\nimport React, { useState, useMemo } from 'react';\r\nimport { USD_SYMBOL, KHR_SYMBOL, formatUSD, formatKHR } from '../utils/formatters';\r\nimport * as XLSX from 'xlsx'; // <--- Import ·ûü·ûò·üí·ûö·û∂·ûî·üã xlsx\r\nimport { saveAs } from 'file-saver'; // <--- Import ·ûü·ûò·üí·ûö·û∂·ûî·üã file-saver\r\n\r\n\r\n\r\n// Function SalesReport ·ûò·û∑·ûì·ûï·üí·ûõ·û∂·ûü·üã·ûî·üí·ûè·ûº·ûö·ûÖ·üí·ûö·ûæ·ûì·ûñ·û∏ Version ·ûò·ûª·ûì·ûä·üÇ·ûõ·ûä·ûÄ·ûñ·ûì·üí·ûí·ûÖ·üÅ·ûâ\r\n// ·ûÄ·û∂·ûö·ûï·üí·ûõ·û∂·ûü·üã·ûî·üí·ûè·ûº·ûö·ûü·üÜ·ûÅ·û∂·ûì·üã·ûÇ·û∫·ûö·ûî·üÄ·ûî·ûä·üÇ·ûõ·ûú·û∂·ûë·ûë·ûΩ·ûõ allOrders ·ûñ·û∏ App.jsx ·ûä·üÇ·ûõ·û•·û°·ûº·ûú·ûò·ûÄ·ûñ·û∏ Firestore\r\n// ·ûì·û∑·ûÑ·ûÄ·û∂·ûö·ûî·üí·ûö·ûæ·ûî·üí·ûö·û∂·ûü·üã exchangeRateAtPurchase ·ûü·ûò·üí·ûö·û∂·ûî·üã·ûÇ·ûé·ûì·û∂ KHR ·ûì·üÉ Order ·ûÖ·û∂·ûü·üã·üó\r\n\r\nfunction SalesReport({ allOrders, exchangeRate /* ·ûì·üÅ·üá·ûá·û∂ exchangeRate ·ûî·ûÖ·üí·ûÖ·ûª·ûî·üí·ûî·ûì·üí·ûì ·ûò·û∑·ûì·ûò·üÇ·ûì·ûö·ûî·ûü·üã Order ·ûÖ·û∂·ûü·üã·ûë·üÅ */ }) {\r\n    const [reportType, setReportType] = useState('daily');\r\n    const [filterDate, setFilterDate] = useState(new Date().toISOString().split('T')[0]);\r\n    const [filterMonth, setFilterMonth] = useState(new Date().toISOString().slice(0, 7));\r\n\r\n    const salesData = useMemo(() => {\r\n        if (!allOrders || allOrders.length === 0) {\r\n            return { grandTotalUSD: 0, count: 0, orders: [] };\r\n        }\r\n\r\n        let filteredOrders = [];\r\n        if (reportType === 'daily') {\r\n            filteredOrders = allOrders.filter(order => order.date && order.date.startsWith(filterDate));\r\n        } else if (reportType === 'monthly') {\r\n            filteredOrders = allOrders.filter(order => order.date && order.date.startsWith(filterMonth));\r\n        } else if (reportType === 'all') {\r\n            filteredOrders = allOrders;\r\n        }\r\n\r\n        const grandTotalUSD = filteredOrders.reduce((sum, order) => sum + (order.totalUSD || 0), 0);\r\n\r\n        return {\r\n            grandTotalUSD,\r\n            count: filteredOrders.length,\r\n            orders: filteredOrders,\r\n        };\r\n    }, [allOrders, reportType, filterDate, filterMonth]);\r\n\r\n    const getReportTitle = () => {\r\n        if (reportType === 'daily') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûê·üí·ûÑ·üÉ·ûë·û∏ ${new Date(filterDate + 'T00:00:00').toLocaleDateString('km-KH', { day: '2-digit', month: 'long', year: 'numeric' })}`;\r\n        if (reportType === 'monthly') return `·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûÅ·üÇ ${new Date(filterMonth + '-01T00:00:00').toLocaleDateString('km-KH', { month: 'long', year: 'numeric' })}`;\r\n        return '·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã·ûü·ûö·ûª·ûî';\r\n    };\r\n\r\n    const handlePrintReport = () => {\r\n        // ... (·ûä·ûº·ûÖ·ûò·ûª·ûì)\r\n        const reportPanel = document.querySelector('.sales-report-panel');\r\n        const appContainer = document.querySelector('.pos-container.report-view-container');\r\n\r\n        if (reportPanel && appContainer) {\r\n            appContainer.classList.add('printing-sales-report');\r\n            reportPanel.classList.add('print-this-report');\r\n            window.print();\r\n            reportPanel.classList.remove('print-this-report');\r\n            appContainer.classList.remove('printing-sales-report');\r\n        } else {\r\n            console.error(\"Report panel or app container not found for printing.\");\r\n        }\r\n    };\r\n\r\n    const handleDownloadCSV = () => {\r\n        // ... (·ûä·ûº·ûÖ·ûò·ûª·ûì, ·ûè·üí·ûö·ûº·ûú·ûî·üí·ûö·û∂·ûÄ·ûä·ûê·û∂ column headers ·ûè·üí·ûö·ûº·ûú·ûì·ûπ·ûÑ data)\r\n        if (salesData.orders.length === 0) {\r\n            alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã·ûë·û∂·ûâ·ûô·ûÄ·üî\");\r\n            return;\r\n        }\r\n\r\n        let csvContent = \"data:text/csv;charset=utf-8,\";\r\n        csvContent += \"Order ID (Display),Firestore ID,Date,Time,Items Count,Total USD,Total KHR (at Purchase),Exchange Rate (at Purchase)\\r\\n\";\r\n\r\n        salesData.orders.forEach(order => {\r\n            const orderDate = new Date(order.date);\r\n            const dateStr = orderDate.toLocaleDateString('en-CA');\r\n            const timeStr = orderDate.toLocaleTimeString('en-GB');\r\n            const itemsCount = order.items.reduce((sum, item) => sum + item.quantity, 0);\r\n            const totalKHRatPurchase = order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate); // ·ûî·üí·ûö·ûæ exchangeRateAtPurchase ·ûî·ûæ·ûò·û∂·ûì\r\n\r\n            csvContent += `${order.orderIdString || 'N/A'},${order.firestoreId},${dateStr},${timeStr},${itemsCount},${formatUSD(order.totalUSD)},${formatKHR(totalKHRatPurchase)},${order.exchangeRateAtPurchase || 'N/A'}\\r\\n`;\r\n        });\r\n\r\n        const encodedUri = encodeURI(csvContent);\r\n        const link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        link.setAttribute(\"download\", `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.csv`);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    const handleExportToExcel = () => {\r\n        // ... (·ûä·ûº·ûÖ·ûò·ûª·ûì, ·ûè·üí·ûö·ûº·ûú·ûî·üí·ûö·û∂·ûÄ·ûä·ûê·û∂ data mapping ·ûè·üí·ûö·ûπ·ûò·ûè·üí·ûö·ûº·ûú)\r\n        if (!salesData || salesData.orders.length === 0) {\r\n            alert(\"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûü·ûò·üí·ûö·û∂·ûî·üã Export ·ûë·üÅ·üî\");\r\n            return;\r\n        }\r\n\r\n        const dataForExcel = salesData.orders.map(order => {\r\n            const orderDate = new Date(order.date);\r\n            const itemsCount = order.items.reduce((sum, item) => sum + item.quantity, 0);\r\n            const itemsString = order.items.map(i => `${i.khmerName} (x${i.quantity})`).join(', ');\r\n            const totalKHRatPurchase = order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate);\r\n\r\n            return {\r\n                '·ûõ·üÅ·ûÅ·ûú·û∑·ûÄ·üí·ûÄ·ûô·ûî·ûè·üí·ûö (Display)': order.orderIdString  || 'N/A',\r\n                'Firestore ID': order.firestoreId,\r\n                '·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë': orderDate.toLocaleDateString('km-KH'),\r\n                '·ûò·üâ·üÑ·ûÑ': orderDate.toLocaleTimeString('km-KH'),\r\n                '·ûò·ûª·ûÅ·ûë·üÜ·ûì·û∑·ûâ·ûü·ûö·ûª·ûî': itemsCount,\r\n                '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤': itemsString,\r\n                '·ûü·ûö·ûª·ûî (USD)': order.totalUSD,\r\n                '·ûü·ûö·ûª·ûî (KHR ‡∏ì·ûñ·üÅ·ûõ‡∏ã‡∏∑‡πâ‡∏≠)': totalKHRatPurchase,\r\n                '·û¢·ûè·üí·ûö·û∂·ûî·üí·ûè·ûº·ûö·ûî·üí·ûö·û∂·ûÄ·üã (‡∏ì·ûñ·üÅ·ûõ‡∏ã‡∏∑‡πâ‡∏≠)': order.exchangeRateAtPurchase || 'N/A'\r\n            };\r\n        });\r\n\r\n        const worksheet = XLSX.utils.json_to_sheet(dataForExcel);\r\n        const columnWidths = [\r\n            { wch: 20 }, { wch: 25 }, { wch: 15 }, { wch: 12 }, { wch: 15 },\r\n            { wch: 50 }, { wch: 15 }, { wch: 20 }, { wch: 20 }\r\n        ];\r\n        worksheet['!cols'] = columnWidths;\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, \"Sales Report\");\r\n        const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n        const dataBlob = new Blob([excelBuffer], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\" });\r\n        saveAs(dataBlob, `sales_report_${reportType}_${new Date().toISOString().split('T')[0]}.xlsx`);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"sales-report-panel\">\r\n            <h2>·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç·ûõ·ûÄ·üã</h2>\r\n            <div className=\"report-controls\">\r\n                {/* ... buttons and inputs for filtering ... */}\r\n                 <button\r\n                    onClick={() => setReportType('daily')}\r\n                    className={reportType === 'daily' ? 'active' : ''}\r\n                >\r\n                    ·ûî·üí·ûö·ûÖ·û∂·üÜ·ûê·üí·ûÑ·üÉ\r\n                </button>\r\n                {reportType === 'daily' && (\r\n                    <input\r\n                        type=\"date\"\r\n                        value={filterDate}\r\n                        onChange={(e) => setFilterDate(e.target.value)}\r\n                        style={{padding: '7px', borderRadius:'5px', border: '1px solid var(--border-color)'}}\r\n                    />\r\n                )}\r\n                <button\r\n                    onClick={() => setReportType('monthly')}\r\n                    className={reportType === 'monthly' ? 'active' : ''}\r\n                >\r\n                    ·ûî·üí·ûö·ûÖ·û∂·üÜ·ûÅ·üÇ\r\n                </button>\r\n                {reportType === 'monthly' && (\r\n                     <input\r\n                        type=\"month\"\r\n                        value={filterMonth}\r\n                        onChange={(e) => setFilterMonth(e.target.value)}\r\n                        style={{padding: '7px', borderRadius:'5px', border: '1px solid var(--border-color)'}}\r\n                    />\r\n                )}\r\n                 <button\r\n                    onClick={() => setReportType('all')}\r\n                    className={reportType === 'all' ? 'active' : ''}\r\n                >\r\n                    ·ûë·û∂·üÜ·ûÑ·û¢·ûü·üã\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"report-actions\">\r\n                <button onClick={handlePrintReport} disabled={salesData.orders.length === 0}>\r\n                    <span role=\"img\" aria-label=\"print\">üñ®Ô∏è</span> ·ûî·üÑ·üá·ûñ·ûª·ûò·üí·ûñ·ûö·ûî·û∂·ûô·ûÄ·û∂·ûö·ûé·üç\r\n                </button>\r\n                <button onClick={handleDownloadCSV} disabled={salesData.orders.length === 0}>\r\n                    <span role=\"img\" aria-label=\"download\">üíæ</span> ·ûë·û∂·ûâ·ûô·ûÄ·ûá·û∂ CSV\r\n                </button>\r\n                <button onClick={handleExportToExcel} disabled={!salesData || salesData.orders.length === 0}>\r\n                    <span role=\"img\" aria-label=\"excel\">üìÑ</span> ·ûë·û∂·ûâ·ûô·ûÄ·ûá·û∂ Excel\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"report-section\" id=\"salesReportPrintSection\">\r\n                <h3>{getReportTitle()}</h3>\r\n                <p>·ûÖ·üÜ·ûì·ûΩ·ûì·ûü·ûö·ûª·ûî·ûì·üÉ·ûÄ·û∂·ûö·ûî·ûâ·üí·ûá·û∂·ûë·û∑·ûâ: {salesData.count}</p>\r\n                <p style={{fontWeight: 'bold', marginTop: '10px', color: 'var(--primary-color)'}}>\r\n                    ·ûî·üí·ûö·û∂·ûÄ·üã·ûÖ·üÜ·ûé·ûº·ûõ·ûü·ûö·ûª·ûî: {USD_SYMBOL}{formatUSD(salesData.grandTotalUSD)}\r\n                    {/* KHR total here would use current exchange rate for the sum, not ideal for historical accuracy of individual orders */}\r\n                </p>\r\n\r\n                {salesData.orders.length > 0 ? (\r\n                    <table className=\"report-data-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>ID ·ûî·ûÑ·üí·û†·û∂·ûâ</th>\r\n                                <th>Firestore ID</th>\r\n                                <th>·ûÄ·û∂·ûõ·ûî·ûö·û∑·ûÖ·üí·ûÜ·üÅ·ûë</th>\r\n                                <th>·ûò·üâ·üÑ·ûÑ</th>\r\n                                <th className=\"number-cell\">·ûÖ·üÜ·ûì·ûΩ·ûì·ûò·ûª·ûÅ</th>\r\n                                <th className=\"number-cell\">·ûü·ûö·ûª·ûî (USD)</th>\r\n                                <th className=\"number-cell\">·ûü·ûö·ûª·ûî (KHR @·ûë·û∑·ûâ)</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {salesData.orders.map(order => {\r\n                                const orderDate = new Date(order.date);\r\n                                const itemsCount = order.items.reduce((sum, item) => sum + item.quantity, 0);\r\n                                const khrAtPurchase = order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate); // Fallback to current if not saved\r\n                                return (\r\n                                    <tr key={order.firestoreId}> {/* Use Firestore ID as key */}\r\n                                        <td>{order.orderIdString || 'N/A'}</td>\r\n                                        <td>{order.firestoreId}</td>\r\n                                        <td>{orderDate.toLocaleDateString('km-KH')}</td>\r\n                                        <td>{orderDate.toLocaleTimeString('km-KH')}</td>\r\n                                        <td className=\"number-cell\">{itemsCount}</td>\r\n                                        <td className=\"number-cell\">{formatUSD(order.totalUSD)}</td>\r\n                                        <td className=\"number-cell\">{formatKHR(khrAtPurchase)}</td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                        </tbody>\r\n                         <tfoot>\r\n                            <tr>\r\n                                <td colSpan=\"4\" style={{textAlign: 'right', fontWeight: 'bold'}}>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>\r\n                                    {salesData.orders.reduce((acc, curr) => acc + curr.items.reduce((s, i) => s + i.quantity, 0), 0)}\r\n                                </td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>{formatUSD(salesData.grandTotalUSD)}</td>\r\n                                <td className=\"number-cell\" style={{fontWeight: 'bold'}}>\r\n                                    {/* Calculating sum of KHR at purchase is more complex here,\r\n                                        as each order might have a different exchange rate.\r\n                                        For simplicity, this sum is often omitted or calculated differently if needed.\r\n                                        The current implementation shows KHR for each row based on its purchase rate.\r\n                                    */}\r\n                                     {KHR_SYMBOL}\r\n                                     {formatKHR(salesData.orders.reduce((sum, order) => sum + (order.totalUSD * (order.exchangeRateAtPurchase || exchangeRate)),0))}\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                ) : (\r\n                    <p>·ûò·û∑·ûì·ûë·û∂·ûì·üã·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûõ·ûÄ·üã·ûü·ûò·üí·ûö·û∂·ûî·üã·ûè·ûò·üí·ûö·ûÑ·ûì·üÅ·üá·ûë·üÅ·üî</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SalesReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}